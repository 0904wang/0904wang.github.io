<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>test</title>
    <url>/2024/05/30/test/</url>
    <content><![CDATA[<h1 id="一级标题">一级标题</h1>
<p><strong>加粗</strong><br>
<em>斜体</em></p>
<blockquote>
<p>引用</p>
<blockquote>
<p>嵌套引用</p>
</blockquote>
</blockquote>
<ol>
<li>first</li>
<li>second</li>
</ol>
<ul>
<li>first
<ul>
<li>1</li>
<li>2</li>
</ul>
</li>
<li>second</li>
</ul>
<h2 id="二级标题">二级标题</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">code</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    for (int i = 0; i &lt; 5; i++)</span><br><span class="line">        printf(&quot;Hello Grayson~%d\n&quot;, i); </span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>分隔符</p>
<hr>
<p>这是一个链接<a href="https://www.baidu.com/">百度一下，你就知道 (baidu.com)</a></p>
<table>
<thead>
<tr>
<th style="text-align:left">11</th>
<th style="text-align:center">11</th>
<th style="text-align:right">11</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">22</td>
<td style="text-align:center">22</td>
<td style="text-align:right">22</td>
</tr>
<tr>
<td style="text-align:left">33</td>
<td style="text-align:center">33</td>
<td style="text-align:right">33</td>
</tr>
</tbody>
</table>
]]></content>
      <tags>
        <tag>测试</tag>
      </tags>
  </entry>
  <entry>
    <title>每日一题1-2-读《Python-Codebook》</title>
    <url>/2024/06/30/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%981-2-%E8%AF%BB%E3%80%8APython-Codebook%E3%80%8B/</url>
    <content><![CDATA[<h1 id="1-6在字典中将键映射到多个值">1.6在字典中将键映射到多个值</h1>
<p>将这多个值保存在另一个容器如列表或集合中。<br>
使用collections模块中的defaultdict类。</p>
<blockquote>
<p>collections模块中的defaultdict类是Python标准库中的一个字典（dict）子类，它提供了所有常规字典的方法。defaultdict的主要特点是在访问不存在的键时，会自动创建该键并将其值设置为一个默认值，这个默认值是通过在创建defaultdict对象时传递给构造器的可调用对象（如函数）返回的。</p>
</blockquote>
<p>以下是defaultdict的一些主要特性：</p>
<ul>
<li>自动创建不存在的键：当尝试访问一个不存在的键时，defaultdict会自动创建这个键并将其值设置为由默认工厂函数返回的值。</li>
<li>可指定默认值的类型：可以指定默认值的类型，如list、int、set等，这使得defaultdict非常适合于收集和组织数据。</li>
<li>简化代码：使用defaultdict可以避免在字典操作中频繁检查键是否存在的代码，使得代码更简洁易读。</li>
</ul>
<h1 id="1-7让字典保持有序">1.7让字典保持有序</h1>
<p>collections模块中的OrderedDict类。当对字典做迭代时，他会严格按照元素初始添加顺序进行。<br>
注意：OrderedDict的大小是普通字典的2倍多。</p>
<h1 id="1-8与字典有关的计算问题">1.8与字典有关的计算问题</h1>
<p>利用zip()将字典中的键和值反转。</p>
<h1 id="1-9在两个字典中寻找共同点">1.9在两个字典中寻找共同点</h1>
<p>通过keys()或items()方法执行常见的集合操作。</p>
<h1 id="1-10从序列中移除重复项并保持元素间顺序不变">1.10从序列中移除重复项并保持元素间顺序不变</h1>
<p>通过集合和生成器解决。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dedupe</span>(<span class="params">items</span>):</span><br><span class="line">    seen = <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="keyword">if</span> item <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line">            seen.add(item)</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>]  </span><br><span class="line"><span class="built_in">list</span>(dedupe(a))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python Codebook</tag>
      </tags>
  </entry>
  <entry>
    <title>每日一题1.1-读《Python Codebook》</title>
    <url>/2024/06/29/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%981-1-%E8%AF%BB%E3%80%8APython-Codebook%E3%80%8B/</url>
    <content><![CDATA[<h1 id="1-1-将序列分解为单独的变量">1.1 将序列分解为单独的变量</h1>
<p>简单的赋值操作。</p>
<h1 id="1-2从任意长度的可迭代对象中分解元素">1.2从任意长度的可迭代对象中分解元素</h1>
<p>“*表达式”得到列表。</p>
<h1 id="1-3保存最后n个元素">1.3保存最后N个元素</h1>
<h2 id="collection-deque方法">collection.deque方法</h2>
<blockquote>
<p><code>collections.deque</code>是Python标准库<code>collections</code>模块中的一个类，提供了一个双端队列。双端队列（deque，全称double-ended queue）是一种具有队列和栈性质的抽象数据类型。它允许你从两端附加和弹出元素，因此提供了一种灵活的数据存储方式。</p>
</blockquote>
<p><code>collections.deque</code>的主要特点和用法包括：</p>
<ol>
<li><strong>快速添加和弹出</strong>：与列表相比，<code>deque</code>在两端添加（append）和弹出（pop）操作的时间复杂度都是O(1)，而列表在头部添加和弹出的时间复杂度是O(n)。</li>
<li><strong>线程安全</strong>：<code>deque</code>是线程安全的，可以在多线程环境中使用，而无需额外的锁定机制。</li>
<li><strong>支持最大长度</strong>：可以限制<code>deque</code>的大小。当限定的大小被超出时，添加新元素会导致对应端的旧元素被移除。</li>
<li><strong>支持迭代</strong>：<code>deque</code>支持迭代，可以像列表一样进行循环遍历。</li>
<li><strong>支持索引访问</strong>：虽然<code>deque</code>支持从两端快速添加和弹出元素，但也支持索引访问。不过，索引访问的时间复杂度是O(n)，因此在大量数据的情况下不推荐使用。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个空的双端队列</span></span><br><span class="line">d = deque()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在右侧添加元素</span></span><br><span class="line">d.append(<span class="number">1</span>)</span><br><span class="line">d.append(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在左侧添加元素</span></span><br><span class="line">d.appendleft(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 弹出右侧元素</span></span><br><span class="line">right_elem = d.pop()  <span class="comment"># 返回2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 弹出左侧元素</span></span><br><span class="line">left_elem = d.popleft()  <span class="comment"># 返回0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定最大长度创建deque</span></span><br><span class="line">limited_d = deque(maxlen=<span class="number">2</span>)</span><br><span class="line">limited_d.append(<span class="number">1</span>)</span><br><span class="line">limited_d.append(<span class="number">2</span>)</span><br><span class="line">limited_d.append(<span class="number">3</span>)  <span class="comment"># 添加3的同时，1会从左侧被移除</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(d)  <span class="comment"># 输出当前deque的内容</span></span><br><span class="line"><span class="built_in">print</span>(limited_d)  <span class="comment"># 输出限定长度的deque内容</span></span><br></pre></td></tr></table></figure>
<h2 id="yield关键字">yield关键字</h2>
<blockquote>
<p>在Python中，<code>yield</code>是一个关键字，用于从一个函数返回一个生成器（generator）。使用<code>yield</code>的函数被称为生成器函数。生成器提供了一种方式来产生数据序列，但与返回列表不同，生成器一次只产生一个值，这样可以减少内存使用，提高效率，特别是在处理大数据集时。</p>
</blockquote>
<p>使用<code>yield</code>的函数在执行时，每遇到一个<code>yield</code>语句就会暂停并保存当前所有的运行信息，返回<code>yield</code>的值，并在下一次执行<code>next()</code>方法时从当前位置继续运行。<br>
以下是<code>yield</code>的一些主要特点：</p>
<ol>
<li><strong>惰性求值</strong>：生成器只有在需要产生下一个数据时才会执行。</li>
<li><strong>状态保持</strong>：生成器函数在暂停执行时，会保持其状态，包括局部变量和指针信息，等待下一次从上次离开的地方继续执行。</li>
<li><strong>内存效率</strong>：由于一次只处理一个数据项，生成器不需要像列表那样存储整个数据集，这对于大数据处理非常有用。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">simple_generator</span>():</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个生成器对象</span></span><br><span class="line">gen = simple_generator()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用next()获取生成器的下一个元素</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))  <span class="comment"># 输出 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))  <span class="comment"># 输出 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(gen))  <span class="comment"># 输出 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 再次调用next(gen)将会抛出StopIteration异常，因为生成器没有更多的元素</span></span><br></pre></td></tr></table></figure>
<p>生成器非常适合于遍历大文件、表示无限序列和处理流式数据等场景。使用<code>yield</code>可以使代码更加清晰，更易于理解，同时提高程序的性能。</p>
<h1 id="1-4-找到最小或最大的元素">1.4 找到最小或最大的元素</h1>
<p>heapq模块的nlargest()和nsmallest()方法。这两个函数都可以接受一个参数key。</p>
<h1 id="1-5-实现优先级队列">1.5 实现优先级队列</h1>
<p>利用heapq模块，引入index生成一个堆，依此弹出即可。</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python Codebook</tag>
      </tags>
  </entry>
  <entry>
    <title>Python爬虫（三）</title>
    <url>/2024/06/28/Python%E7%88%AC%E8%99%AB%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<p>主要是实战部分</p>
<h1 id="豆瓣排行">豆瓣排行</h1>
<p>主要目的是爬取豆瓣top250，并存储在Excel里。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">PageIndex = <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">250</span>, <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">DownloadAllHtmls</span>() -&gt; <span class="built_in">list</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    爬取10个页面的HTML</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://wangzhilei.fun&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    htmls = []</span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> PageIndex:</span><br><span class="line">        url = <span class="string">f&quot;https://movie.douban.com/top250?start=<span class="subst">&#123;idx&#125;</span>&amp;filter=&quot;</span></span><br><span class="line">        <span class="comment"># print(f&quot;craw html: &#123;url&#125;&quot;)</span></span><br><span class="line">        r = requests.get(url,headers=headers,timeout=<span class="number">3</span> )</span><br><span class="line">        <span class="keyword">if</span> r.status_code != <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&quot;error&quot;</span>)</span><br><span class="line">        htmls.append(r.text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> htmls</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ParseSingleHtml</span>(<span class="params">html</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    解析单个HTML，得到数据</span></span><br><span class="line"><span class="string">    :return: list(&#x27;link&#x27;,&#x27;title&#x27;,[label])</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    soup = BeautifulSoup(html,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">    ArticleItems = (soup.find(<span class="string">&#x27;div&#x27;</span>, class_ = <span class="string">&#x27;article&#x27;</span>).find(<span class="string">&#x27;ol&#x27;</span>,class_ = <span class="string">&#x27;grid_view&#x27;</span>).find_all(<span class="string">&#x27;div&#x27;</span>,class_ = <span class="string">&#x27;item&#x27;</span>))</span><br><span class="line">    datas = []</span><br><span class="line">    <span class="keyword">for</span> ArticleItem <span class="keyword">in</span> ArticleItems:</span><br><span class="line">        rank = ArticleItem.find(<span class="string">&quot;div&quot;</span>, class_ = <span class="string">&#x27;pic&#x27;</span>).find(<span class="string">&quot;em&quot;</span>,class_ = <span class="string">&quot;&quot;</span>).get_text()</span><br><span class="line">        info = ArticleItem.find(<span class="string">&#x27;div&#x27;</span>, class_ = <span class="string">&#x27;info&#x27;</span>)</span><br><span class="line">        title = info.find(<span class="string">&#x27;div&#x27;</span>,class_ = <span class="string">&#x27;hd&#x27;</span>).find(<span class="string">&#x27;span&#x27;</span>,class_ = <span class="string">&#x27;title&#x27;</span>).get_text()</span><br><span class="line">        stars = (info.find(<span class="string">&#x27;div&#x27;</span>,class_ = <span class="string">&#x27;bd&#x27;</span>).find(<span class="string">&#x27;div&#x27;</span>,class_ = <span class="string">&#x27;star&#x27;</span>).find_all(<span class="string">&#x27;span&#x27;</span>))</span><br><span class="line">        rating_star = stars[<span class="number">0</span>][<span class="string">&quot;class&quot;</span>][<span class="number">0</span>]</span><br><span class="line">        rating_num = stars[<span class="number">1</span>].get_text()</span><br><span class="line">        comments = stars[<span class="number">3</span>].get_text()</span><br><span class="line">        datas.append(&#123;</span><br><span class="line">            <span class="string">&quot;rank&quot;</span>:rank,</span><br><span class="line">            <span class="string">&quot;title&quot;</span>:title,</span><br><span class="line">            <span class="string">&quot;rating_star&quot;</span>:rating_star.replace(<span class="string">&quot;rating&quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;-t&quot;</span>,<span class="string">&quot;&quot;</span>),</span><br><span class="line">            <span class="string">&quot;rating_num&quot;</span>:rating_num,</span><br><span class="line">            <span class="string">&quot;comments&quot;</span>:comments.replace(<span class="string">&quot;人评价&quot;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="keyword">return</span> datas</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">htmls = DownloadAllHtmls()</span><br><span class="line"></span><br><span class="line">AllDatas = []</span><br><span class="line"><span class="keyword">for</span> html <span class="keyword">in</span> htmls:</span><br><span class="line">    AllDatas.extend(ParseSingleHtml(html))</span><br><span class="line">df = pd.DataFrame(AllDatas)</span><br><span class="line">df.to_excel(<span class="string">&quot;豆瓣电影top250.xlsx&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>得到<a href="/resources/豆瓣电影top250.xlsx" download>豆瓣电影top250.xlsx</a></p>
<h1 id="爬取岳麓区历史天气">爬取岳麓区历史天气</h1>
<p>涉及技术:</p>
<ol>
<li>headers中设置user agent反爬机制</li>
<li>通过network抓包，分析ajax的请求和参数</li>
<li>通过for循环请求不同的参数的数据</li>
<li>利用pandas实现excel的合并与保存</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">craw_table</span>(<span class="params">year, month</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    根据年月确定爬取的数据</span></span><br><span class="line"><span class="string">    :param year:</span></span><br><span class="line"><span class="string">    :param month:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&quot;areaInfo[areaId]&quot;</span>: <span class="number">71952</span>,</span><br><span class="line">        <span class="string">&quot;areaInfo[areaType]&quot;</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="string">&quot;date[year]&quot;</span>: year,</span><br><span class="line">        <span class="string">&quot;date[month]&quot;</span>: month,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    response = requests.get(URL, headers=headers, params=params, timeout=<span class="number">3</span>)</span><br><span class="line">    data = response.json()[<span class="string">&quot;data&quot;</span>]</span><br><span class="line">    <span class="comment"># 使用StringIO包装HTML字符串</span></span><br><span class="line">    df = pd.read_html(StringIO(data))[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">URL = <span class="string">&quot;https://tianqi.2345.com/Pc/GetHistory&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 后来发现只要有&quot;Cookie&quot;和&quot;Referer&quot;这个键就行</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Cookie&quot;</span>: <span class="string">&quot;positionCityID=71952; positionCityPinyin=yuelu; Hm_lvt_a3f2879f6b3620a363bec646b7a8bcdd=1719578091; lastCountyId=71952; lastCountyPinyin=yuelu; lastProvinceId=23; lastCityId=57687; Hm_lpvt_a3f2879f6b3620a363bec646b7a8bcdd=1719578124; lastCountyTime=1719578124&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://tianqi.2345.com/wea_history/71952.htm&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df_list = []</span><br><span class="line"><span class="keyword">for</span> used_year <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2020</span>, <span class="number">2024</span>):</span><br><span class="line">    <span class="keyword">for</span> used_month <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">13</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;used_year&#125;</span> <span class="subst">&#123;used_month&#125;</span>&quot;</span>)</span><br><span class="line">        needed_df = craw_table(used_year, used_month)</span><br><span class="line">        df_list.append(needed_df)</span><br><span class="line">pd.concat(df_list).to_excel(<span class="string">&quot;岳麓区历史天气数据.xlsx&quot;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>得到<a href="/resources/岳麓区历史天气数据.xlsx" download>岳麓区历史天气数据.xlsx</a></p>
<h1 id="爬取小说">爬取小说</h1>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">爬取小说</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novel_chapters</span>() -&gt;<span class="built_in">list</span>:</span><br><span class="line">    <span class="keyword">global</span> novel_name</span><br><span class="line">    root_url = <span class="built_in">input</span>()</span><br><span class="line">    r = requests.get(root_url,timeout=<span class="number">3</span>)</span><br><span class="line">    r.encoding = <span class="string">&quot;gbk&quot;</span></span><br><span class="line">    novel_soup = BeautifulSoup(r.text,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    chapters = []</span><br><span class="line">    novel_name = novel_soup.find(<span class="string">&quot;div&quot;</span>,<span class="built_in">id</span>=<span class="string">&quot;info&quot;</span>).find(<span class="string">&#x27;h1&#x27;</span>).get_text()</span><br><span class="line">    <span class="keyword">for</span> dd <span class="keyword">in</span> novel_soup.find_all(<span class="string">&quot;dd&quot;</span>):</span><br><span class="line">        chapters_link = dd.find(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> chapters_link:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        chapters.append((<span class="string">f&quot;<span class="subst">&#123;root_url&#125;</span><span class="subst">&#123;chapters_link[<span class="string">&#x27;href&#x27;</span>][<span class="number">10</span>:]&#125;</span>&quot;</span>, chapters_link.text))</span><br><span class="line">    <span class="keyword">return</span> chapters</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_chapter_content</span>(<span class="params">url</span>):</span><br><span class="line">    r = requests.get(url,timeout=<span class="number">3</span>)</span><br><span class="line">    r.encoding = <span class="string">&#x27;gbk&#x27;</span></span><br><span class="line">    chapter_soup = BeautifulSoup(r.text, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    chapter_content = chapter_soup.find(<span class="string">&quot;div&quot;</span>, <span class="built_in">id</span>=<span class="string">&quot;content&quot;</span>).get_text()</span><br><span class="line">    chapter_content = chapter_content.replace(<span class="string">&#x27;\xa0&#x27;</span>, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> chapter_content</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">novel_chapters = get_novel_chapters()</span><br><span class="line"><span class="keyword">for</span> chapter <span class="keyword">in</span> novel_chapters[<span class="number">9</span>:]:</span><br><span class="line">    chapter_url, chapter_title = chapter</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;novel_name&#125;</span>.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> fout:</span><br><span class="line">        fout.write(chapter_title)</span><br><span class="line">        fout.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        fout.write(get_chapter_content(chapter_url))</span><br></pre></td></tr></table></figure>
<p>批量爬取的时候好像IP地址被拉黑了，网站都打不开。。。<br>
但代码应该没啥问题。</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>Python爬虫（二）</title>
    <url>/2024/06/25/Python%E7%88%AC%E8%99%AB%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1 id="再次尝试爬取自己的博客">再次尝试爬取自己的博客</h1>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://www.wangzhilei.fun&quot;</span></span><br><span class="line"></span><br><span class="line">r=requests.get(url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> r.status_code != <span class="number">200</span>:</span><br><span class="line">    <span class="keyword">raise</span> Exception()</span><br><span class="line">r.encoding =<span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">html_doc=r.text</span><br><span class="line">soup = BeautifulSoup(html_doc,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">div_nodes = soup.find_all(<span class="string">&quot;div&quot;</span>,class_ = <span class="string">&quot;recent-post-info&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> div_node <span class="keyword">in</span> div_nodes:</span><br><span class="line">    link = div_node.find(<span class="string">&quot;a&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(unquote(link[<span class="string">&quot;href&quot;</span>]),link.get_text())<span class="comment"># urllib.parse.unquote()函数解码</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;================================&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/10e0f162574b4a2b.png" alt=""></p>
<p>爬取成功！！！</p>
<h1 id="爬取博客网站所有文章列表">爬取博客网站所有文章列表</h1>
<p>知识点：</p>
<ul>
<li>附带cookie字典</li>
<li>正则表达式实现模糊匹配</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote</span><br><span class="line"><span class="keyword">from</span> utlis <span class="keyword">import</span> url_manager</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">RootURL = <span class="string">&#x27;https://wangzhilei.fun&#x27;</span></span><br><span class="line"></span><br><span class="line">URLS = url_manager.UrlManager()</span><br><span class="line">URLS.add_new_url(RootURL)</span><br><span class="line"></span><br><span class="line">fout = <span class="built_in">open</span>(<span class="string">&quot;craw_all_pages.txt&quot;</span>, <span class="string">&quot;w&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> URLS.has_new_url():</span><br><span class="line">    CurrUrl = URLS.get_url()</span><br><span class="line">    r = requests.get(CurrUrl, timeout=<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">if</span> r.status_code != <span class="number">200</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    soup = BeautifulSoup(r.text,<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">    title = soup.title.string</span><br><span class="line"></span><br><span class="line">    fout.write(<span class="string">f&#x27;<span class="subst">&#123;urllib.parse.unquote(CurrUrl)&#125;</span> <span class="subst">&#123;title&#125;</span>\n&#x27;</span>)</span><br><span class="line">    fout.flush()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;success:<span class="subst">&#123;CurrUrl&#125;</span> <span class="subst">&#123;title&#125;</span> <span class="subst">&#123;<span class="built_in">len</span>(URLS.new_urls)&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    links = soup.find_all(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">        href = link.get(<span class="string">&#x27;href&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> href <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        pattern = <span class="string">r&quot;/\d&#123;4&#125;/\d&#123;2&#125;/\d&#123;2&#125;/.*$&quot;</span></span><br><span class="line">        <span class="keyword">if</span> re.<span class="keyword">match</span>(pattern, href):</span><br><span class="line">            full_url = urllib.parse.urljoin(RootURL, href)</span><br><span class="line">            <span class="comment"># print(f&#x27;full_url:&#123;unquote(full_url)&#125;&#x27;)</span></span><br><span class="line">            decoded_url = urllib.parse.unquote(full_url)</span><br><span class="line">            URLS.add_new_url(decoded_url)</span><br><span class="line"></span><br><span class="line">fout.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出如下：</p>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/476376a6bface38f.png" alt=""></p>
<p>得到的文档如下：</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">https://wangzhilei.fun NULL</span><br><span class="line">https://wangzhilei.fun/2024/06/23/Python爬虫（一）/ Python爬虫（一） | NULL</span><br><span class="line">https://wangzhilei.fun/2024/06/22/PAM4与OFDM代码分析/ PAM4与OFDM代码分析 | NULL</span><br><span class="line">https://wangzhilei.fun/2024/05/30/test/ test | NULL</span><br><span class="line">https://wangzhilei.fun/2024/06/25/Python爬虫（二）/ Python爬虫（二） | NULL</span><br><span class="line">https://wangzhilei.fun/2024/06/22/OFDM时频图/ OFDM时频图 | NULL</span><br><span class="line">https://wangzhilei.fun/2024/06/21/latex公式/ latex公式 | NULL</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>爬取成功！！！</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>Python爬虫（一）</title>
    <url>/2024/06/23/Python%E7%88%AC%E8%99%AB%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<p>笔者在大一时曾系统学习过python，但也只掌握了一些基础的语法知识，并没有真正的深入了解python。这次想尝试一下python中一个很重要的部分——爬虫。</p>
<h1 id="测试库">测试库</h1>
<p>先测试一下需要安装的库</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> selenium</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>得到<code>ok</code>说明库安装完成。</p>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/97997b0ca7853dae.png" alt=""></p>
<h1 id="爬取自己博客">爬取自己博客</h1>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/6b944e76231a1c74.png" alt=""><br>
<code>r.status_code</code> 返回<code>200</code>，说明请求成功。<br>
再尝试其他命令。</p>
<table>
<thead>
<tr>
<th style="text-align:left">常用属性</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">encoding</td>
<td style="text-align:left">查看或者指定响应字符编码</td>
</tr>
<tr>
<td style="text-align:left">status_code</td>
<td style="text-align:left">返回HTTP响应码</td>
</tr>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:left">查看请求的 url 地址</td>
</tr>
<tr>
<td style="text-align:left">headers</td>
<td style="text-align:left">查看请求头信息</td>
</tr>
<tr>
<td style="text-align:left">cookies</td>
<td style="text-align:left">查看cookies 信息</td>
</tr>
<tr>
<td style="text-align:left">text</td>
<td style="text-align:left">以字符串形式输出</td>
</tr>
<tr>
<td style="text-align:left">content</td>
<td style="text-align:left">以字节流形式输出，若要保存下载图片需使用该属性</td>
</tr>
</tbody>
</table>
<h1 id="爬取百度">爬取百度</h1>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/9d8ff71f11809ba5.png" alt=""><br>
爬取成功。<br>
尝试<code>r.headers</code>，发现<code>Content-Type</code>没有带编码信息<br>
<img src="https://s3.bmp.ovh/imgs/2024/06/30/ea8aca247671cec5.png" alt=""><br>
默认为’ISO-8859-1’<br>
再<code>r.text</code>，存在大量乱码。<br>
查看网页源代码或观察text发现网页编码设定为’utf-8’<br>
设置后可以正常显示。<br>
<img src="https://s3.bmp.ovh/imgs/2024/06/30/8657517cf24c39c8.png" alt=""></p>
<h1 id="url管理器">URL管理器</h1>
<p><img src="https://s3.bmp.ovh/imgs/2024/06/30/7a8a4f8e49280c6e.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UrlManager</span>():</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    Url管理器</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.new_urls=<span class="built_in">set</span>()</span><br><span class="line">        self.old_urls=<span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 单个添加</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_new_url</span>(<span class="params">self,url</span>):</span><br><span class="line">        <span class="keyword">if</span> url <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(url)==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> url <span class="keyword">in</span> self.new_urls <span class="keyword">or</span> url <span class="keyword">in</span> self.old_urls:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.new_urls.add(url)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 批量添加</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_new_urls</span>(<span class="params">self,urls</span>):</span><br><span class="line">        <span class="keyword">if</span> urls <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> <span class="built_in">len</span>(urls)==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">            self.add_new_url(url)</span><br><span class="line">    <span class="comment"># 从新URL集合中获取一个URL，并将其添加到旧URL集合中</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_url</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.has_new_url():</span><br><span class="line">            url=self.new_urls.pop()</span><br><span class="line">            self.old_urls.add(url)</span><br><span class="line">            <span class="keyword">return</span> url</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断是否存在url</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">has_new_url</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.new_urls)&gt;<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    url_manager=UrlManager()</span><br><span class="line">    url_manager.add_new_url(<span class="string">&quot;url1&quot;</span>)</span><br><span class="line">    url_manager.add_new_urls([<span class="string">&quot;url1&quot;</span>, <span class="string">&quot;url2&quot;</span>, <span class="string">&quot;url3&quot;</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url_manager.new_urls&#125;</span>,<span class="subst">&#123;url_manager.old_urls&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">30</span>)</span><br><span class="line">    new_urls=url_manager.get_url()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url_manager.new_urls&#125;</span>,<span class="subst">&#123;url_manager.old_urls&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">30</span>)</span><br><span class="line">    new_urls = url_manager.get_url()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url_manager.new_urls&#125;</span>,<span class="subst">&#123;url_manager.old_urls&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">30</span>)</span><br><span class="line">    new_urls = url_manager.get_url()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url_manager.new_urls&#125;</span>,<span class="subst">&#123;url_manager.old_urls&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">30</span>)</span><br><span class="line">    new_urls = url_manager.get_url()</span><br><span class="line">    <span class="built_in">print</span>(url_manager.has_new_url())</span><br></pre></td></tr></table></figure>
<h1 id="beautiful-soup-网页解析器">Beautiful Soup——网页解析器</h1>
<p>Beautiful Soup是python的一个库，最主要的功能是从网页抓取数据。官方解释如下：</p>
<blockquote>
<p>Beautiful Soup提供一些简单的、python式的函数用来处理导航、搜索、修改分析树等功能。它是一个工具箱，通过解析文档为用户提供需要抓取的数据，因为简单，所以不需要多少代码就可以写出一个完整的应用程序。<br>
Beautiful Soup自动将输入文档转换为Unicode编码，输出文档转换为utf-8编码。你不需要考虑编码方式，除非文档没有指定一个编码方式，这时，Beautiful Soup就不能自动识别编码方式了。然后，你仅仅需要说明一下原始编码方式就可以了。<br>
Beautiful Soup已成为和lxml、html6lib一样出色的python解释器，为用户灵活地提供不同的解析策略或强劲的速度。</p>
</blockquote>
<p>创建如下测试html文本</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">Content-Type</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>网页标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>标题3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>标题4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;content&quot;</span> <span class="attr">class</span>=<span class="string">&quot;default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.crazyant.net&quot;</span>&gt;</span>疯狂的蚂蚁<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://ww.iqiyi.com&quot;</span>&gt;</span>爱奇艺<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.python.org/static/img/python-logo.png&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>效果如下：<br>
<img src="https://s3.bmp.ovh/imgs/2024/06/30/bce235684dc8700c.png" alt=""><br>
使用bs4</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;./bs4_test.html&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> fin:</span><br><span class="line">    html_doc = fin.read()</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(html_doc,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"></span><br><span class="line">div_node = soup.find(<span class="string">&#x27;div&#x27;</span>, <span class="built_in">id</span>=<span class="string">&quot;content&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(div_node)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;================================&quot;</span>)</span><br><span class="line">links = soup.find_all(<span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> links:</span><br><span class="line">    <span class="built_in">print</span>(link.name,link[<span class="string">&quot;href&quot;</span>], link.get_text())</span><br><span class="line"></span><br><span class="line">img = soup.find(<span class="string">&quot;img&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(img[<span class="string">&quot;src&quot;</span>])</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行如下：<br>
<img src="https://s3.bmp.ovh/imgs/2024/06/30/1a575c57903de152.png" alt=""></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>OFDM时频图</title>
    <url>/2024/06/22/OFDM%E6%97%B6%E9%A2%91%E5%9B%BE/</url>
    <content><![CDATA[<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">% ======================== 绘制时域波形图=======================</span></span><br><span class="line">Fs = <span class="number">1000</span>;                                <span class="comment">% 总的采样率</span></span><br><span class="line">N = <span class="number">1024</span>;                                <span class="comment">% 总的子载波数</span></span><br><span class="line">T = N / Fs;                              <span class="comment">% 信号绘制为一个周期的长度</span></span><br><span class="line">x = <span class="number">0</span> : <span class="number">1</span>/Fs : T<span class="number">-1</span>/Fs;                   <span class="comment">% 生成时间向量，用于绘制波形</span></span><br><span class="line">Numscr = <span class="number">4</span>;                              <span class="comment">% 绘制的子载波数量</span></span><br><span class="line">s_data = <span class="number">1</span>;                              <span class="comment">% 初始相位</span></span><br><span class="line">y = <span class="built_in">zeros</span>(Numscr, <span class="built_in">numel</span>(x));             <span class="comment">% 初始化存储每个子载波的复数值的矩阵</span></span><br><span class="line">ini_phase = <span class="built_in">repmat</span>(s_data, <span class="number">1</span>, <span class="built_in">numel</span>(x));  <span class="comment">% 生成与时间长度相匹配的初始相位向量</span></span><br><span class="line"><span class="keyword">for</span> k = <span class="number">0</span> : Numscr<span class="number">-1</span>                      <span class="comment">% 循环遍历要绘制的子载波数量</span></span><br><span class="line">    <span class="keyword">for</span> n = <span class="number">0</span> : <span class="built_in">numel</span>(x)<span class="number">-1</span>                <span class="comment">% 循环遍历时间序列</span></span><br><span class="line">        y(k+<span class="number">1</span>, n+<span class="number">1</span>) = ini_phase(n+<span class="number">1</span>) * <span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span> * <span class="number">2</span> * <span class="built_in">pi</span> * k * n / N);  <span class="comment">% 计算每个时间点上每个子载波的复数值</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(x, <span class="built_in">real</span>(y));                         <span class="comment">% 绘制时域波形</span></span><br><span class="line">xlabel(<span class="string">&#x27;时间/s&#x27;</span>);                      </span><br><span class="line">ylabel(<span class="string">&#x27;幅度/V&#x27;</span>);                        </span><br><span class="line"></span><br><span class="line"><span class="comment">% ======================== 绘制频域波形图=======================</span></span><br><span class="line">f = (-Fs/<span class="number">2</span> : Fs/<span class="built_in">numel</span>(x) : Fs/<span class="number">2</span>-Fs/<span class="built_in">numel</span>(x));</span><br><span class="line">a = <span class="number">20</span>;</span><br><span class="line">y1 = <span class="built_in">zeros</span>(Numscr, a * N);</span><br><span class="line">y_combined = horzcat(y, y1);              <span class="comment">% 水平拼接两个矩阵</span></span><br><span class="line">f = (-Fs/<span class="number">2</span> : Fs/((a+<span class="number">1</span>)*N) : (Fs/<span class="number">2</span>-Fs/((a+<span class="number">1</span>)*N)));</span><br><span class="line">y_fft = <span class="built_in">zeros</span>(Numscr, (a+<span class="number">1</span>)*N);</span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span> : Numscr</span><br><span class="line">    y_fft(k, :) = <span class="built_in">real</span>(fftshift(fft(y_combined(k,:)))) / N;  <span class="comment">% 计算每个子载波的频谱</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(f, y_fft(<span class="number">1</span>,:), f, y_fft(<span class="number">2</span>,:), f, y_fft(<span class="number">3</span>,:), f, y_fft(<span class="number">4</span>,:));</span><br><span class="line">grid on;</span><br><span class="line">xlim([<span class="number">-10</span>, <span class="number">10</span>]);                          <span class="comment">% 将 x 轴范围限制在 -10 到 10 之间</span></span><br><span class="line">xlabel(<span class="string">&#x27;频率/Hz&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;幅度/V&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h1 id="绘制时域波形图">绘制时域波形图</h1>
<ol>
<li>定义采样率<code>Fs</code>、子载波数<code>N</code>、信号周期<code>T</code>、时间向量<code>x</code>、子载波数量<code>Numscr</code>、初始相位<code>s_data</code>。</li>
<li>初始化一个矩阵<code>y</code>来存储每个子载波的复数值，以及一个初始相位向量<code>ini_phase</code>。</li>
<li>使用双重循环计算每个子载波在每个时间点的复数值。外循环遍历子载波数量，内循环遍历时间序列。计算公式为<code>y(k+1, n+1) = ini_phase(n+1) * exp(1i * 2 * pi * k * n / N)</code>。</li>
<li>使用<code>plot</code>函数绘制时域波形，x轴为时间<code>s</code>，y轴为幅度<code>V</code>。</li>
</ol>
<p><img src="clip_image001.gif" alt=""></p>
<h1 id="绘制频域波形图">绘制频域波形图</h1>
<ol>
<li>定义频率向量<code>f</code>，扩展因子<code>a</code>，并初始化一个更大的矩阵<code>y1</code>来扩展<code>y</code>矩阵。</li>
<li>使用<code>horzcat</code>函数水平拼接<code>y</code>和<code>y1</code>矩阵，得到<code>y_combined</code>。</li>
<li>重新定义频率向量<code>f</code>以匹配扩展后的矩阵。</li>
<li>初始化一个矩阵<code>y_fft</code>来存储每个子载波的频谱。</li>
<li>使用循环计算每个子载波的频谱，通过对<code>y_combined</code>的每一行应用<code>fft</code>函数，然后使用<code>fftshift</code>函数进行频谱移位，并除以<code>N</code>进行归一化。</li>
<li>使用<code>plot</code>函数绘制频域波形图，x轴为频率<code>Hz</code>，y轴为幅度<code>V</code>。限制x轴范围在-10到10之间。</li>
</ol>
<p><img src="clip_image002.gif" alt=""></p>
<h1 id="总结">总结</h1>
<p>生成特定的时间序列和相应的复数值，来模拟和绘制四个子载波的时域波形。然后，通过对这些波形进行傅里叶变换，绘制出它们的频域波形图。</p>
]]></content>
      <categories>
        <category>通信原理</category>
      </categories>
      <tags>
        <tag>OFDM</tag>
      </tags>
  </entry>
  <entry>
    <title>PAM4与OFDM代码分析</title>
    <url>/2024/06/22/PAM4%E4%B8%8EOFDM%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90/</url>
    <content><![CDATA[<p>首先解释一下过程中使用的函数部分</p>
<h1 id="shift-m">shift.m</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[outregi]</span> = <span class="title">shift</span><span class="params">(inregi,shiftr)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"><span class="comment">% inrege     : 输入序列</span></span><br><span class="line"><span class="comment">% shiftr     : 循环右移的位数</span></span><br><span class="line"><span class="comment">% outregi    : 输出序列</span></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line">v  = <span class="built_in">length</span>(inregi);</span><br><span class="line">outregi = inregi;</span><br><span class="line">shiftr = <span class="built_in">rem</span>(shiftr,v);</span><br><span class="line"><span class="keyword">if</span> shiftr &gt; <span class="number">0</span></span><br><span class="line">    outregi(:,<span class="number">1</span>:shiftr) = inregi(:,v-shiftr+<span class="number">1</span>:v);     <span class="comment">%循环移位</span></span><br><span class="line">    outregi(:,<span class="number">1</span>+shiftr:v) = inregi(:,<span class="number">1</span>:v-shiftr);</span><br><span class="line"><span class="keyword">elseif</span> shiftr &lt; <span class="number">0</span></span><br><span class="line">    outregi(:,<span class="number">1</span>:v+shiftr) = inregi(:,<span class="number">1</span>-shiftr:v);</span><br><span class="line">    outregi(:,v+shiftr+<span class="number">1</span>:v) = inregi(:,<span class="number">1</span>:-shiftr);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这段代码通过对输入序列进行循环移位操作，支持正向（右移）和反向（左移）两种方式。</p>
<ol>
<li><strong>函数定义</strong>:
<ul>
<li><code>function [outregi] = shift(inregi,shiftr)</code>：定义了一个名为<code>shift</code>的函数，它接收两个参数：<code>inregi</code>（输入序列）和<code>shiftr</code>（要循环右移的位数），并返回一个参数：<code>outregi</code>（移位后的输出序列）。</li>
</ul>
</li>
<li><strong>变量初始化</strong>:
<ul>
<li><code>v = length(inregi);</code>：计算输入序列的长度，并将其存储在变量<code>v</code>中。</li>
<li><code>outregi = inregi;</code>：初始化输出序列<code>outregi</code>为输入序列<code>inregi</code>的一个副本。</li>
</ul>
</li>
<li><strong>计算实际移位数</strong>:
<ul>
<li><code>shiftr = rem(shiftr,v);</code>：使用<code>rem</code>函数计算<code>shiftr</code>除以<code>v</code>的余数，以确保移位数不超过序列长度。这是因为超过序列长度的移位等同于对序列长度取余后的移位。</li>
</ul>
</li>
<li><strong>循环移位操作</strong>:
<ul>
<li>如果<code>shiftr &gt; 0</code>（正数，表示循环右移）：
<ul>
<li><code>outregi(:,1:shiftr) = inregi(:,v-shiftr+1:v);</code>：将输入序列的最后<code>shiftr</code>个元素移动到输出序列的开始位置。</li>
<li><code>outregi(:,1+shiftr:v) = inregi(:,1:v-shiftr);</code>：将输入序列的开始到<code>v-shiftr</code>位置的元素移动到输出序列的<code>shiftr+1</code>到<code>v</code>位置。</li>
</ul>
</li>
<li>如果<code>shiftr &lt; 0</code>（负数，表示循环左移）：
<ul>
<li><code>outregi(:,1:v+shiftr) = inregi(:,1-shiftr:v);</code>：将输入序列的<code>-shiftr</code>位置到末尾的元素移动到输出序列的开始到<code>v+shiftr</code>位置。</li>
<li><code>outregi(:,v+shiftr+1:v) = inregi(:,1:-shiftr);</code>：将输入序列的开始到<code>-shiftr</code>位置的元素移动到输出序列的<code>v+shiftr+1</code>到<code>v</code>位置。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="mesq-m">mesq.m</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[mout]</span> = <span class="title">mseq</span><span class="params">(n, taps, inidata, num)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"><span class="comment">% n         : m序列的阶数n</span></span><br><span class="line"><span class="comment">% taps      : 反馈寄存器的连接位置</span></span><br><span class="line"><span class="comment">% inidata   : 寄存器的初始值序列</span></span><br><span class="line"><span class="comment">% num       : 输出的m序列的个数</span></span><br><span class="line"><span class="comment">% mout      : 输出的m序列，如果num&gt;1,则每一行为一个m序列</span></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"></span><br><span class="line">mout = <span class="built_in">zeros</span>(num,<span class="number">2</span>^n<span class="number">-1</span>);</span><br><span class="line">fpos = <span class="built_in">zeros</span>(n,<span class="number">1</span>);</span><br><span class="line">fpos(taps) = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ii=<span class="number">1</span>:<span class="number">2</span>^n<span class="number">-1</span></span><br><span class="line">    mout(<span class="number">1</span>,ii) = inidata(n);                        <span class="comment">% 寄存器的输出值</span></span><br><span class="line">    temp        = <span class="built_in">mod</span>(inidata*fpos,<span class="number">2</span>);              <span class="comment">% 计算反馈数据</span></span><br><span class="line">    inidata(<span class="number">2</span>:n) = inidata(<span class="number">1</span>:n<span class="number">-1</span>);                  <span class="comment">% 寄存器移位一次</span></span><br><span class="line">    inidata(<span class="number">1</span>)     = temp;                          <span class="comment">% 更新第1个寄存器的值</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> num &gt; <span class="number">1</span>                                          <span class="comment">%如果要输出多个m序列，生成其他m序列</span></span><br><span class="line">    <span class="keyword">for</span> ii=<span class="number">2</span>:num</span><br><span class="line">        mout(ii,:) = shift(mout(ii<span class="number">-1</span>,:),<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>用于生成m序列（最大长度序列）。m序列是一种伪随机二进制序列，具有良好的自相关特性。<br>
<strong>函数定义和参数说明</strong></p>
<ul>
<li><code>function [mout] = mseq(n, taps, inidata, num)</code>：定义了一个名为<code>mseq</code>的函数，它接收四个参数并返回一个参数：
<ul>
<li><code>n</code>：m序列的阶数，决定了序列的长度为<code>2^n - 1</code>。</li>
<li><code>taps</code>：反馈寄存器的连接位置，这些位置决定了序列的生成规则。</li>
<li><code>inidata</code>：寄存器的初始值序列，用于开始生成序列的起始点。</li>
<li><code>num</code>：输出的m序列的个数，如果大于1，则每一行代表一个不同的m序列。</li>
<li><code>mout</code>：输出的m序列，如果<code>num &gt; 1</code>，则每一行为一个m序列。<br>
<strong>初始化输出矩阵和反馈位置</strong></li>
</ul>
</li>
<li><code>mout = zeros(num,2^n-1);</code>：初始化输出矩阵<code>mout</code>，大小为<code>num</code>行，<code>2^n-1</code>列，填充为0。</li>
<li><code>fpos = zeros(n,1);</code>：初始化一个长度为<code>n</code>的列向量<code>fpos</code>，用于标记反馈寄存器的位置。</li>
<li><code>fpos(taps) = 1;</code>：在<code>fpos</code>向量中，将<code>taps</code>指定的位置设置为1，表示这些位置参与反馈计算。<br>
<strong>生成第一个m序列</strong></li>
<li>循环<code>ii=1:2^n-1</code>：对于序列的每一位进行循环。
<ul>
<li><code>mout(1,ii) = inidata(n);</code>：将寄存器的最后一位输出到<code>mout</code>的第一行当前列。</li>
<li><code>temp = mod(inidata*fpos,2);</code>：计算反馈值，即<code>inidata</code>和<code>fpos</code>的点积后对2取模。</li>
<li><code>inidata(2:n) = inidata(1:n-1);</code>：将寄存器的值左移一位。</li>
<li><code>inidata(1) = temp;</code>：将计算出的反馈值放入寄存器的第一位。<br>
<strong>生成其他m序列（如果需要）</strong></li>
</ul>
</li>
<li>如果<code>num &gt; 1</code>，则需要生成多个m序列。
<ul>
<li>循环<code>ii=2:num</code>：从第二个序列开始，对每个序列进行循环。
<ul>
<li><code>mout(ii,:) = shift(mout(ii-1,:),1);</code>：使用<code>shift</code>函数（在之前的代码中定义）将前一个序列循环右移一位，生成新的序列。<br>
这份代码通过指定的反馈寄存器位置和初始值，利用线性反馈移位寄存器（LFSR）的原理，生成一个或多个m序列。每个序列的长度由<code>n</code>决定，为<code>2^n - 1</code>。如果需要生成多个序列，后续序列通过将前一个序列循环右移一位来获得。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="spread-m">spread.m</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%扩频函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[out]</span> = <span class="title">spread</span><span class="params">(data, code)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"><span class="comment">%   data   : 输入数据序列</span></span><br><span class="line"><span class="comment">%   code   : 扩频码序列</span></span><br><span class="line"><span class="comment">%   out    : 扩频后的输出数据序列</span></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> nargin</span><br><span class="line"><span class="keyword">case</span> &#123; <span class="number">0</span> , <span class="number">1</span> &#125;                                  <span class="comment">%如果输入参数个数不对，提示错误</span></span><br><span class="line">    error(<span class="string">&#x27;缺少输入参数&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">[hn,vn] = <span class="built_in">size</span>(data);</span><br><span class="line">[hc,vc] = <span class="built_in">size</span>(code);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> hn &gt; hc                                      <span class="comment">%如果扩频码数小于输入的待扩频的数据序列，提示错误</span></span><br><span class="line">    error(<span class="string">&#x27;缺少扩频码序列&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">out = <span class="built_in">zeros</span>(hn,vn*vc);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ii=<span class="number">1</span>:hn</span><br><span class="line">    out(ii,:) = <span class="built_in">reshape</span>(code(ii,:).&#x27;*data(ii,:),<span class="number">1</span>,vn*vc);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>用于实现扩频技术中的扩频操作。通过将数据信号与一个扩频码序列相乘，增加信号的带宽，以提高信号的抗干扰能力和安全性。<br>
<strong>函数定义和参数说明</strong></p>
<ul>
<li>
<p><code>function [out] = spread(data, code)</code>：定义了一个名为<code>spread</code>的函数，它接收两个参数<code>data</code>（输入数据序列）和<code>code</code>（扩频码序列），返回一个参数<code>out</code>（扩频后的输出数据序列）。<br>
<strong>输入参数检查</strong></p>
</li>
<li>
<p><code>switch nargin</code>：使用<code>nargin</code>检查函数调用时的输入参数个数。</p>
<ul>
<li><code>case &#123; 0 , 1 &#125;</code>：如果输入参数个数为0或1，即缺少必要的参数，则通过<code>error('缺少输入参数');</code>抛出错误提示。<br>
<strong>参数大小检查</strong></li>
</ul>
</li>
<li>
<p><code>[hn,vn] = size(data);</code>和<code>[hc,vc] = size(code);</code>：分别获取<code>data</code>和<code>code</code>的行数和列数。</p>
</li>
<li>
<p><code>if hn &gt; hc</code>：如果<code>data</code>的行数大于<code>code</code>的行数，表示扩频码序列不足以对所有输入数据进行扩频，通过<code>error('缺少扩频码序列');</code>抛出错误提示。<br>
<strong>扩频操作</strong></p>
</li>
<li>
<p><code>out = zeros(hn,vn*vc);</code>：初始化输出数据序列<code>out</code>，其大小为<code>hn</code>行和<code>vn*vc</code>列。这里<code>vn*vc</code>表示每个数据元素将被扩展到原来的<code>vc</code>倍长度，即扩频操作的结果。</p>
</li>
<li>
<p>循环<code>for ii=1:hn</code>：对于<code>data</code>中的每一行（每个数据元素）进行循环。</p>
<ul>
<li><code>out(ii,:) = reshape(code(ii,:).'*data(ii,:),1,vn*vc);</code>：对于每个数据元素，将其与对应的扩频码序列相乘，然后使用<code>reshape</code>函数将结果调整为一行，形成扩频后的数据序列。这里使用了<code>.'</code>来进行转置操作，确保矩阵乘法的维度匹配。</li>
</ul>
</li>
</ul>
<p>这个<code>spread</code>函数通过将输入的数据序列与扩频码序列相乘，实现了扩频操作。该操作通常用于提高通信系统的抗干扰能力和安全性。通过对每个数据元素进行扩频，输出的数据序列长度增加，从而实现了信号的扩频。</p>
<h1 id="despread-m">despread.m</h1>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%信号解扩</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span> = <span class="title">despread</span><span class="params">(data, code)</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"><span class="comment">%   data    : 输入数据序列</span></span><br><span class="line"><span class="comment">%   code    : 解扩使用的扩频码序列</span></span><br><span class="line"><span class="comment">%   out     : 解扩后的输出数据序列</span></span><br><span class="line"><span class="comment">% ****************************************************************</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> nargin                           <span class="comment">%如果输入参数个数不对，提示错误</span></span><br><span class="line"><span class="keyword">case</span> &#123; <span class="number">0</span> , <span class="number">1</span> &#125;</span><br><span class="line">    error(<span class="string">&#x27;缺少输入参数&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">[hn,vn] = <span class="built_in">size</span>(data);</span><br><span class="line">[hc,vc] = <span class="built_in">size</span>(code);                  </span><br><span class="line">out    = <span class="built_in">zeros</span>(hc,vn/vc);                  </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ii=<span class="number">1</span>:hc</span><br><span class="line">    xx=<span class="built_in">reshape</span>(data(ii,:),vc,vn/vc);</span><br><span class="line">    out(ii,:)= code(ii,:)*xx/vc;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>这份代码是一个MATLAB函数，用于实现扩频通信技术中的解扩操作。解扩是扩频通信的一个重要环节，它将接收到的扩频信号与相同的扩频码序列相乘，以恢复原始的数据信号。下面是对这份代码的详细解释：<br>
<strong>函数定义和参数说明</strong></p>
<ul>
<li><code>function out = despread(data, code)</code>：定义了一个名为<code>despread</code>的函数，它接收两个参数<code>data</code>（输入的扩频数据序列）和<code>code</code>（用于解扩的扩频码序列），返回一个参数<code>out</code>（解扩后的输出数据序列）。<br>
<strong>输入参数检查</strong></li>
<li><code>switch nargin</code>：使用<code>nargin</code>检查函数调用时的输入参数个数。
<ul>
<li><code>case &#123; 0 , 1 &#125;</code>：如果输入参数个数为0或1，即缺少必要的参数，则通过<code>error('缺少输入参数');</code>抛出错误提示。<br>
<strong>参数大小检查和初始化输出序列</strong></li>
</ul>
</li>
<li><code>[hn,vn] = size(data);</code>和<code>[hc,vc] = size(code);</code>：分别获取<code>data</code>和<code>code</code>的行数和列数。</li>
<li><code>out = zeros(hc,vn/vc);</code>：初始化输出数据序列<code>out</code>，其大小为<code>hc</code>行和<code>vn/vc</code>列。这里<code>vn/vc</code>表示解扩后数据的长度，假设扩频操作是均匀的，即每个数据元素扩展的长度为<code>vc</code>。<br>
<strong>解扩操作</strong></li>
<li>循环<code>for ii=1:hc</code>：对于<code>code</code>中的每一行（每个扩频码序列）进行循环。
<ul>
<li><code>xx = reshape(data(ii,:),vc,vn/vc);</code>：将输入的扩频数据序列<code>data</code>的当前行重新整形为<code>vc</code>行和<code>vn/vc</code>列的矩阵。这样做是为了匹配扩频码序列的长度，以便进行矩阵乘法。</li>
<li><code>out(ii,:) = code(ii,:)*xx/vc;</code>：将扩频码序列与对应的扩频数据矩阵相乘，然后除以<code>vc</code>，以恢复原始的数据信号。这里的除以<code>vc</code>是为了抵消扩频操作中的放大效应。<br>
这个<code>despread</code>函数通过将接收到的扩频数据序列与相同的扩频码序列相乘并适当调整，实现了解扩操作，恢复了原始的数据信号。这是扩频通信技术中的一个关键步骤，用于提高信号的抗干扰能力和保密性。</li>
</ul>
</li>
</ul>
<p>最后对OFDM.m分析</p>
<h1 id="ofdm-m">OFDM.m</h1>
<h2 id="参数设置">参数设置</h2>
<p>分析：<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">T_{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: 有效数据部分符号时间<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>G</mi><mi>I</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{GI}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>:循环前缀长度<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">T_{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>:OFDM长度，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mi>s</mi></msub><mo>=</mo><msub><mi>T</mi><mi>u</mi></msub><mo>+</mo><msub><mi>T</mi><mrow><mi>G</mi><mi>I</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{s}=T_{u}+T_{GI}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">G</span><span class="mord mathdefault mtight" style="margin-right:0.07847em;">I</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>:子载波个数<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">\Delta f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>:子载波间隔，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>f</mi><mo>=</mo><mfrac><mn>1</mn><msub><mi>T</mi><mi>u</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\Delta f=\frac{1}{T_{u}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2902079999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>:带宽，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mi>N</mi><mo>∗</mo><mi mathvariant="normal">Δ</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">B=N*\Delta f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{Sample}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>:采样时间间隔，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>B</mi></mfrac><mo>=</mo><mfrac><msub><mi>T</mi><mi>u</mi></msub><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">T_{Sample}=\frac{1}{B}=\frac{T_{u}}{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.233431em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8884309999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>（时域频域的关系）<br>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>s</mi></msub><mo>=</mo><mfrac><mn>1</mn><msub><mi>T</mi><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi></mrow></msub></mfrac><mo>=</mo><mfrac><mi>N</mi><msub><mi>T</mi><mi>u</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">F_{s}=\frac{1}{T_{Sample}}=\frac{N}{T_{u}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3931879999999999em;vertical-align:-0.5480799999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29011428571428566em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5480799999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.317431em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>(1s的采样点数）</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 参数设置</span></span><br><span class="line">N_sc=<span class="number">52</span>;      <span class="comment">%系统子载波数（不包括直流载波）、number of subcarrierA</span></span><br><span class="line">N_fft=<span class="number">64</span>;            <span class="comment">% FFT 长度</span></span><br><span class="line">N_cp=<span class="number">16</span>;             <span class="comment">% 循环前缀长度、Cyclic prefix</span></span><br><span class="line">N_symbo=N_fft+N_cp;        <span class="comment">% 1个完整OFDM符号长度</span></span><br><span class="line">N_c=<span class="number">53</span>;             <span class="comment">% 包含直流载波的总的子载波数、number of carriers</span></span><br><span class="line">M=<span class="number">4</span>;               <span class="comment">%4PAM调制</span></span><br><span class="line">SNR=<span class="number">0</span>:<span class="number">1</span>:<span class="number">25</span>;         <span class="comment">%仿真信噪比</span></span><br><span class="line">N_frm=<span class="number">10</span>;            <span class="comment">% 每种信噪比下的仿真帧数、frame</span></span><br><span class="line">Nd=<span class="number">6</span>;               <span class="comment">% 每帧包含的OFDM符号数</span></span><br><span class="line">P_f_inter=<span class="number">6</span>;      <span class="comment">%导频间隔</span></span><br><span class="line">data_station=[];    <span class="comment">%导频位置</span></span><br><span class="line">L=<span class="number">7</span>;                <span class="comment">%卷积码约束长度</span></span><br><span class="line">tblen=<span class="number">5</span>*L;          <span class="comment">%Viterbi译码器回溯深度</span></span><br><span class="line">stage = <span class="number">3</span>;          <span class="comment">% m序列的阶数</span></span><br><span class="line">ptap1 = [<span class="number">1</span> <span class="number">3</span>];      <span class="comment">% m序列的寄存器连接方式</span></span><br><span class="line">regi1 = [<span class="number">1</span> <span class="number">1</span> <span class="number">1</span>];    <span class="comment">% m序列的寄存器初始值</span></span><br></pre></td></tr></table></figure>
<p>参数的详细解释：</p>
<ol>
<li><code>N_sc=52;</code>：系统子载波数，指的是用于传输数据的子载波的数量，不包括用于其他目的（如直流载波）的子载波。52由<strong>IEEE 802.11a标准</strong>规定，（其中48个用于数据传输，4个用于导频信号）</li>
<li><code>N_fft=64;</code>：FFT（快速傅里叶变换）的长度。IEEE 802.11a WLAN标准，采用64点FFT来处理OFDM信号。</li>
<li><code>N_cp=16;</code>：循环前缀的长度。循环前缀是在每个OFDM符号前添加的，用于减少符号间干扰（ISI）和频率选择性衰落。较长的循环前缀可以提供更好的保护，因为它能覆盖更长的回声延迟，但会降低系统的频谱效率，因为更多的时间被用于传输冗余的循环前缀，而不是有效的数据</li>
<li><code>N_symbo=N_fft+N_cp;</code>：一个完整OFDM符号的长度，包括FFT长度和循环前缀的长度。</li>
<li><code>N_c=53;</code>：包含直流载波的总的子载波数。直流载波通常不用于传输数据，以避免直流偏移问题。</li>
<li><code>M=4;</code>：调制方式，这里使用的是4PAM（脉冲幅度调制），意味着每个符号可以表示2比特的信息。</li>
<li><code>SNR=0:1:25;</code>：信噪比，从0 dB到25 dB，以1 dB为步进。这是仿真中考虑的信噪比范围。</li>
<li><code>N_frm=10;</code>：每种信噪比下的仿真帧数，即对每个信噪比值，都会进行10帧的仿真。</li>
<li><code>Nd=6;</code>：每帧包含的OFDM符号数，表示每个仿真帧中包含的OFDM符号数量。</li>
<li><code>P_f_inter=6;</code>：导频间隔，指的是在OFDM符号中，导频信号之间的间隔。</li>
<li><code>data_station=[];</code>：导频位置，这里初始化为空，在后续代码中会进行设置。</li>
<li><code>L=7;</code>：卷积码的约束长度，这是卷积编码中的一个关键参数，影响编码的性能和复杂度。</li>
<li><code>tblen=5*L;</code>：Viterbi译码器的回溯深度，用于确定Viterbi算法在解码时的回溯长度。</li>
<li><code>stage = 3;</code>：m序列的阶数</li>
<li><code>ptap1 = [1 3];</code>：m序列的寄存器连接方式</li>
<li><code>regi1 = [1 1 1];</code>：m序列的寄存器初始值</li>
</ol>
<h2 id="产生基带数据">产生基带数据</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 基带数据产生</span></span><br><span class="line">P_data=randi([<span class="number">0</span> <span class="number">1</span>],<span class="number">1</span>,N_sc*Nd*N_frm);</span><br></pre></td></tr></table></figure>
<h2 id="信道编码-卷积码">信道编码（卷积码）</h2>
<p>区别于常规的线性分组码，卷积码是一种前向纠错编码技术，它可以在不增加额外传输带宽的情况下，通过引入冗余信息来提高通信的可靠性。卷积码是通过连续的输入比特流与一组固定的生成多项式进行卷积运算来生成编码比特流的。卷积编码的码字输出不仅与当前时刻的信息符号输入有关，还与之前输入的信息符号有关。</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 信道编码</span></span><br><span class="line"><span class="comment">%卷积码：前向纠错非线性码</span></span><br><span class="line">trellis = poly2trellis(<span class="number">7</span>,[<span class="number">133</span> <span class="number">171</span>]);       <span class="comment">%(2,1,7)卷积编码</span></span><br><span class="line">code_data=convenc(P_data,trellis);</span><br></pre></td></tr></table></figure>
<ol>
<li><code>trellis = poly2trellis(7,[133 171]);</code>：这行代码使用<code>poly2trellis</code>函数定义了一个卷积码的结构（称为trellis结构）。<code>poly2trellis(7,[133 171])</code>定义了一个(2,1,7)卷积码，其中：
<ul>
<li>第一个参数<code>7</code>表示约束长度（constraint length），它是编码器内存的长度加1，影响编码器的性能和复杂度。</li>
<li>数组<code>[133 171]</code>表示生成多项式（generator polynomials），用于确定如何从输入比特生成编码比特。这些值通常以八进制表示，分别对应于卷积编码器的两个输出分支的多项式。</li>
</ul>
</li>
<li><code>code_data=convenc(P_data,trellis);</code>：这行代码使用<code>convenc</code>函数对输入数据<code>P_data</code>进行卷积编码。<code>P_data</code>是待编码的原始数据，<code>trellis</code>是前面定义的卷积码结构。编码后的数据存储在<code>code_data</code>变量中。</li>
</ol>
<h2 id="pam4调制">PAM4调制</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">data_temp1= <span class="built_in">reshape</span>(code_data,<span class="built_in">log2</span>(M),[])&#x27;;             <span class="comment">%以每组2比特进行分组，M=4</span></span><br><span class="line">data_temp2= bi2de(data_temp1);                             <span class="comment">%二进制转化为十进制</span></span><br><span class="line">modu_data=pammod(data_temp2,M);              <span class="comment">% 4PAM调制</span></span><br></pre></td></tr></table></figure>
<ol>
<li><code>data_temp1= reshape(code_data,log2(M),[])';</code>：这行代码首先将<code>code_data</code>（卷积编码后的二进制数据）重新排列成一个新的矩阵<code>data_temp1</code>。<code>reshape</code>函数的第二个参数<code>log2(M)</code>计算了每个4PAM符号所需的比特数（对于4PAM，<code>M=4</code>，所以<code>log2(M)=2</code>），意味着每个符号由2比特组成。<code>reshape</code>函数的调用将<code>code_data</code>按每2比特一组进行分组，准备进行二进制到十进制的转换。最后的<code>'</code>（转置操作）是为了确保数据的维度与后续处理步骤相匹配。</li>
<li><code>data_temp2= bi2de(data_temp1);</code>：这行代码使用<code>bi2de</code>函数将上一步得到的二进制矩阵<code>data_temp1</code>转换为十进制数<code>data_temp2</code>。每行代表一个2比特的组合，转换结果是一个列向量，其中的每个元素对应于一个2比特组合的十进制值（范围从0到3）。</li>
<li><code>modu_data=pammod(data_temp2,M);</code>：最后，这行代码使用<code>pammod</code>函数对十进制数<code>data_temp2</code>进行4PAM调制。<code>M</code>参数指定了PAM调制的阶数，这里为4，表示4PAM调制。<code>pammod</code>函数将每个十进制数映射到一个特定的幅度值上，生成调制后的数据<code>modu_data</code>。</li>
</ol>
<h2 id="扩频">扩频</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 扩频</span></span><br><span class="line">code = mseq(stage,ptap1,regi1,N_sc);     <span class="comment">% 扩频码的生成</span></span><br><span class="line">code = code * <span class="number">2</span> - <span class="number">1</span>;        </span><br><span class="line">modu_data=<span class="built_in">reshape</span>(modu_data,N_sc,<span class="built_in">length</span>(modu_data)/N_sc);</span><br><span class="line">spread_data = spread(modu_data,code);        <span class="comment">% 扩频</span></span><br><span class="line">spread_data=<span class="built_in">reshape</span>(spread_data,[],<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<ol>
<li><code>code = mseq(stage,ptap1,regi1,N_sc);</code>：这行代码使用<code>mseq</code>函数生成一个最大长度序列（M序列），用作扩频码。<code>mseq</code>函数的参数包括：
<ul>
<li><code>stage</code>：寄存器的阶数，决定了序列的长度。</li>
<li><code>ptap1</code>：反馈多项式的抽头位置，用于生成伪随机序列。</li>
<li><code>regi1</code>：寄存器的初始状态。</li>
<li><code>N_sc</code>：子载波的数量，也是生成序列的长度。 生成的<code>code</code>是一个由1和0组成的序列。</li>
</ul>
</li>
<li><code>code = code * 2 - 1;</code>：这行代码将<code>code</code>中的0转换为-1，1保持不变。这样做是为了将扩频码的值调整为1和-1，便于后续的扩频操作。</li>
<li><code>modu_data=reshape(modu_data,N_sc,length(modu_data)/N_sc);</code>：这行代码将调制后的数据<code>modu_data</code>重新排列成一个矩阵，其行数等于子载波的数量<code>N_sc</code>，列数是原始数据长度除以<code>N_sc</code>。这样的排列是为了准备数据与扩频码的按位相乘。</li>
<li><code>spread_data = spread(modu_data,code);</code>：这行代码执行扩频操作。它将每个调制后的数据与扩频码<code>code</code>相乘，从而实现数据的扩频。</li>
<li><code>spread_data=reshape(spread_data,[],1);</code>：最后，这行代码将扩频后的数据<code>spread_data</code>重新排列成一个列向量，以便于后续的处理或传输。</li>
</ol>
<blockquote>
<p>扩频通信技术是一种信息传输方式，其信号所占有的频带宽度远大于所传信息必需的最小带宽；频带的扩展是通过一个独立的码序列来完成，用编码及调制的方法来实现的，与所传信息数据无关；在接收端则用同样的码进行相关同步接收、解扩及恢复所传信息数据</p>
</blockquote>
<p><strong>根据香农定理，带宽和信噪比可用互换，扩频扩展了带宽，则对信噪比的要求可降低。</strong></p>
<h2 id="导频">导频</h2>
<ul>
<li><strong>本质</strong>：导频不携带信息，导频是双方已知的数据，是用来做信道估计的。</li>
<li><strong>原理</strong>：将训练信号（导频）插入帧中，以便接收器可以根据导频和数据类似地失真的假设来估计信道响应。 设计了一种适当的导频模式来满足这种假设。</li>
<li><strong>使用原理</strong>：在接收机中，虽然利用接收到的段训练序列、长训练序列可以进行信道均衡、频率偏差校正，但符号还会存在一定的剩余偏差，且偏差会随着时间的累积而累积，会造成所有子载波产生一定的相位偏移。因此，还需要不断地对参考相位进行跟踪。要能实现这个功能，需要在52个子载波中插入导频符号。</li>
</ul>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 插入导频</span></span><br><span class="line">P_f=<span class="number">3</span>+<span class="number">3</span>*<span class="number">1</span><span class="built_in">i</span>;                       <span class="comment">%Pilot frequency</span></span><br><span class="line">P_f_station=[<span class="number">1</span>:P_f_inter:N_fft];<span class="comment">%导频位置</span></span><br><span class="line">pilot_num=<span class="built_in">length</span>(P_f_station);<span class="comment">%导频数量</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span> img=<span class="number">1</span>:N_fft                        <span class="comment">%数据位置</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">mod</span>(img,P_f_inter)~=<span class="number">1</span>          </span><br><span class="line">        data_station=[data_station,img];</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">data_row=<span class="built_in">length</span>(data_station);</span><br><span class="line">data_col=<span class="built_in">ceil</span>(<span class="built_in">length</span>(spread_data)/data_row);</span><br><span class="line"></span><br><span class="line">pilot_seq=<span class="built_in">ones</span>(pilot_num,data_col)*P_f;<span class="comment">%将导频放入矩阵</span></span><br><span class="line">data=<span class="built_in">zeros</span>(N_fft,data_col);<span class="comment">%预设整个矩阵</span></span><br><span class="line">data(P_f_station(<span class="number">1</span>:<span class="keyword">end</span>),:)=pilot_seq;<span class="comment">%对pilot_seq按行取</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> data_row*data_col&gt;<span class="built_in">length</span>(spread_data)</span><br><span class="line">    data2=[spread_data;<span class="built_in">zeros</span>(data_row*data_col-<span class="built_in">length</span>(spread_data),<span class="number">1</span>)];<span class="comment">%将数据矩阵补齐，补0是虚载频~</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<ol>
<li><code>P_f=3+3*1i;</code>：定义导频频率为复数，实部和虚部都是3。</li>
<li><code>P_f_station=[1:P_f_inter:N_fft];</code>：计算导频的位置。这里假设<code>P_f_inter</code>是导频间隔，<code>N_fft</code>是FFT（快速傅里叶变换）的大小。这行代码生成一个从1开始，每隔<code>P_f_inter</code>个位置，直到<code>N_fft</code>的数组，表示导频在OFDM符号中的位置。</li>
<li><code>pilot_num=length(P_f_station);</code>：计算导频的数量，即<code>P_f_station</code>数组的长度。</li>
<li>接下来的<code>for</code>循环用于计算数据的位置。循环遍历从1到<code>N_fft</code>的每个位置，如果该位置不是导频位置（即不是每隔<code>P_f_inter</code>的位置），则将其添加到<code>data_station</code>数组中。这个数组用于存储数据应该插入的位置。</li>
<li><code>data_row=length(data_station);</code>：计算数据位置的数量，即<code>data_station</code>数组的长度。</li>
<li><code>data_col=ceil(length(spread_data)/data_row);</code>：计算需要的列数，以便将扩频后的数据<code>spread_data</code>分布到OFDM符号中。这里用扩频数据的长度除以数据位置的数量，然后向上取整，得到列数。</li>
<li><code>pilot_seq=ones(pilot_num,data_col)*P_f;</code>：创建一个矩阵<code>pilot_seq</code>，其大小为导频数量乘以列数，矩阵中的每个元素都设置为导频频率<code>P_f</code>。</li>
<li><code>data=zeros(N_fft,data_col);</code>：创建一个大小为<code>N_fft</code>乘以列数的零矩阵<code>data</code>，用于存放最终的OFDM符号数据，包括导频和数据。</li>
<li><code>data(P_f_station(1:end),:)=pilot_seq;</code>：将导频数据<code>pilot_seq</code>插入到<code>data</code>矩阵的相应位置。</li>
<li>接下来的<code>if</code>语句检查是否有足够的位置放置所有扩频后的数据。如果<code>data_row*data_col</code>大于<code>spread_data</code>的长度，说明有额外的空间，需要用零填充这些空间。这里通过添加足够数量的零来补齐<code>spread_data</code>，确保其大小与<code>data</code>矩阵中的数据位置相匹配。</li>
</ol>
<h2 id="串并转换">串并转换</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 串并转换</span></span><br><span class="line">data_seq=<span class="built_in">reshape</span>(data2,data_row,data_col);</span><br><span class="line">data(data_station(<span class="number">1</span>:<span class="keyword">end</span>),:)=data_seq;<span class="comment">%将导频与数据合并</span></span><br></pre></td></tr></table></figure>
<ol>
<li><code>data_seq=reshape(data2,data_row,data_col);</code>：这行代码将<code>data2</code>（重新排列成一个矩阵<code>data_seq</code>。<code>data_row</code>和<code>data_col</code>分别表示矩阵的行数和列数，这样的排列对应于OFDM系统中的串并转换过程。在OFDM系统中，数据首先以串行形式存在，然后通过串并转换过程被重新排列成并行数据块，以便进行后续的处理（如IFFT，插入导频等）。</li>
<li><code>data(data_station(1:end),:)=data_seq;</code>：这行代码将重新排列后的数据<code>data_seq</code>插入到之前创建的<code>data</code>矩阵中的指定位置。<code>data_station</code>数组包含了数据应该被插入的位置（即非导频位置）。这里，<code>data(data_station(1:end),:)</code>选择了<code>data</code>矩阵中对应于<code>data_station</code>指定的所有行，而<code>data_seq</code>被赋值给这些行，实现了数据和导频信号的合并。</li>
</ol>
<h2 id="ifft">IFFT</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% IFFT</span></span><br><span class="line">ifft_data=ifft(data);</span><br></pre></td></tr></table></figure>
<p>将这些频域数据转换回时域，得到<code>ifft_data</code>，这是OFDM系统中实际发送的时域信号。<br>
这样做的好处是可以利用正交子载波的特性来有效地抵抗频率选择性衰落，同时简化了接收端的信号处理。通过IFFT，可以确保每个子载波上的信号在时域中保持正交，从而避免子载波之间的干扰。</p>
<h2 id="插入保护间隔-循环前缀">插入保护间隔，循环前缀</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 插入保护间隔、循环前缀</span></span><br><span class="line">Tx_cd=[ifft_data(N_fft-N_cp+<span class="number">1</span>:<span class="keyword">end</span>,:);ifft_data];<span class="comment">%把ifft的末尾N_cp个数补充到最前面</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>[ifft_data(N_fft-N_cp+1:end,:);ifft_data]</code>：这部分代码执行了循环前缀的插入操作。首先，<code>ifft_data(N_fft-N_cp+1:end,:)</code>选取了<code>ifft_data</code>中的最后<code>N_cp</code>个样本（从<code>N_fft-N_cp+1</code>到<code>end</code>，即末尾）。然后，这些样本被复制并插入到<code>ifft_data</code>的前面，形成新的数组<code>Tx_cd</code>。这样，<code>Tx_cd</code>就包含了原始的IFFT结果和在其前面添加的循环前缀。<br>
循环前缀的作用是为了防止OFDM符号之间的干扰（即ISI）以及提供对多径衰落的一定程度的抵抗。通过复制并插入信号的一部分到其开始，可以确保在接收端，即使存在多径效应，每个OFDM符号的开始也能正确对齐，从而保持子载波之间的正交性。</li>
</ul>
<h2 id="并串转换">并串转换</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 并串转换</span></span><br><span class="line">Tx_data=<span class="built_in">reshape</span>(Tx_cd,[],<span class="number">1</span>);<span class="comment">%由于传输需要</span></span><br></pre></td></tr></table></figure>
<p>将处理过的OFDM信号从并行格式转换为串行格式，以便于在物理层进行传输</p>
<h2 id="通过信道">通过信道</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 信道（通过AWGN信道）</span></span><br><span class="line"> Ber=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(SNR));</span><br><span class="line"> Ber2=<span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(SNR));</span><br><span class="line"><span class="keyword">for</span> jj=<span class="number">1</span>:<span class="built_in">length</span>(SNR)</span><br><span class="line">    rx_channel=awgn(Tx_data,SNR(jj),<span class="string">&#x27;measured&#x27;</span>);<span class="comment">%添加高斯白噪声</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>Ber=zeros(1,length(SNR));</code> 和 <code>Ber2=zeros(1,length(SNR));</code>：这两行代码初始化两个数组<code>Ber</code>和<code>Ber2</code>，它们的长度与<code>SNR</code>数组的长度相同。<code>SNR</code>数组包含了一系列信噪比值，用于模拟不同的信道条件。这些数组用于存储在不同信噪比下计算得到的误比特率（BER）。</li>
<li><code>for jj=1:length(SNR)</code>：这行代码开始一个循环，遍历<code>SNR</code>数组中的每一个信噪比值。循环变量<code>jj</code>从1到<code>SNR</code>数组的长度。</li>
<li><code>rx_channel=awgn(Tx_data,SNR(jj),'measured');</code>：这行代码使用MATLAB的<code>awgn</code>函数向<code>Tx_data</code>（发送的数据）添加高斯白噪声，模拟信号通过加性高斯白噪声信道的传输。<code>SNR(jj)</code>指定了当前迭代的信噪比值，<code>'measured'</code>选项告诉<code>awgn</code>函数基于<code>Tx_data</code>的实际功率来添加噪声，确保信噪比准确匹配指定的值。<code>rx_channel</code>变量存储了添加噪声后的接收信号。</li>
</ul>
<h2 id="再次串并转换">再次串并转换</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 串并转换</span></span><br><span class="line">    Rx_data1=<span class="built_in">reshape</span>(rx_channel,N_fft+N_cp,[]);</span><br></pre></td></tr></table></figure>
<p>它将接收到的串行信号转换为并行格式，以便进行后续的信号处理，如去除循环前缀、FFT等。在发送端，OFDM信号是以并行方式处理和生成的，而在物理层传输时则是以串行方式发送的。因此，在接收端需要将其还原为并行格式，以匹配发送端的处理流程。</p>
<h2 id="去掉保护间隔-循环前缀">去掉保护间隔、循环前缀</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 去掉保护间隔、循环前缀</span></span><br><span class="line">    Rx_data2=Rx_data1(N_cp+<span class="number">1</span>:<span class="keyword">end</span>,:);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Rx_data2=Rx_data1(N_cp+1:end,:);</code>：这行代码使用MATLAB的索引功能来去除每个OFDM符号的循环前缀。
<ul>
<li><code>Rx_data1</code>：这是输入矩阵，包含了经过串并转换后的OFDM信号数据。每一列代表一个完整的OFDM符号，包括循环前缀和有效载荷。</li>
<li><code>N_cp</code>：这是循环前缀的长度。循环前缀是在每个OFDM符号前添加的一段重复的信号，用于减少符号间干扰（ISI）和频率选择性衰落的影响。</li>
<li><code>N_cp+1:end</code>：这个索引范围用于选择每个OFDM符号中除去循环前缀之后的部分。<code>N_cp+1</code>表示从循环前缀之后的第一个元素开始选择，<code>end</code>表示直到该列的最后一个元素。因此，这个操作去除了每个OFDM符号的循环前缀。</li>
<li><code>:</code>：这个符号表示选择所有列，即对<code>Rx_data1</code>矩阵中的每一列（每一个OFDM符号）都执行这个操作。</li>
<li><code>Rx_data2</code>：这是输出变量，存储了去除循环前缀后的OFDM信号数据。每一列代表一个去除了循环前缀的OFDM符号。</li>
</ul>
</li>
</ul>
<h2 id="fft">FFT</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% FFT</span></span><br><span class="line">    fft_data=fft(Rx_data2);</span><br></pre></td></tr></table></figure>
<p>进行快速傅里叶变换，将每个OFDM符号从时域转换到频域。因为在发送端，OFDM信号是在频域生成的，通过IFFT转换到时域进行传输。因此，在接收端需要通过FFT将信号转换回频域，以匹配发送端的处理流程，从而进行数据解调和恢复原始信息。</p>
<h2 id="信道估计与插值-均衡">信道估计与插值（均衡）</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 信道估计与插值（均衡）</span></span><br><span class="line">    data3=fft_data(<span class="number">1</span>:N_fft,:);</span><br><span class="line">    Rx_pilot=data3(P_f_station(<span class="number">1</span>:<span class="keyword">end</span>),:); <span class="comment">%接收到的导频</span></span><br><span class="line">    h=Rx_pilot./pilot_seq;</span><br><span class="line">    H=interp1( P_f_station(<span class="number">1</span>:<span class="keyword">end</span>)&#x27;,h,data_station(<span class="number">1</span>:<span class="keyword">end</span>)&#x27;,<span class="string">&#x27;linear&#x27;</span>,<span class="string">&#x27;extrap&#x27;</span>);<span class="comment">%分段线性插值：插值点处函数值由连接其最邻近的两侧点的线性函数预测。对超出已知点集的插值点用指定插值方法计算函数值</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>data3=fft_data(1:N_fft,:);</code>：这行代码从<code>fft_data</code>矩阵中选取前<code>N_fft</code>行的所有列。<code>fft_data</code>是执行FFT后的数据，每一列代表一个OFDM符号的频域表示。<code>N_fft</code>是FFT的大小，即子载波的数量。这一步骤是为了从FFT结果中提取出对应于OFDM符号的部分。</li>
<li><code>Rx_pilot=data3(P_f_station(1:end),:);</code>：这行代码从<code>data3</code>中选取导频位置的数据。<code>P_f_station</code>是一个数组，包含导频的频域位置。这一步骤是为了从接收到的信号中提取出导频信号，用于后续的信道估计。</li>
<li><code>h=Rx_pilot./pilot_seq;</code>：这行代码计算信道估计值。<code>Rx_pilot</code>是接收到的导频信号，<code>pilot_seq</code>是已知的导频序列。通过将接收到的导频信号除以已知的导频序列，可以估计出信道的响应<code>h</code>。</li>
<li><code>H=interp1(P_f_station(1:end)',h,data_station(1:end)','linear','extrap');</code>：这行代码使用分段线性插值方法对信道响应进行插值。<code>interp1</code>是MATLAB中的一维插值函数，用于根据已知点（这里是导频位置<code>P_f_station</code>和对应的信道估计值<code>h</code>）对未知点（这里是数据子载波位置<code>data_station</code>）进行插值。<code>'linear'</code>指定使用线性插值方法，<code>'extrap'</code>指示对超出已知点范围的查询点进行外推。</li>
</ul>
<h2 id="信道校正">信道校正</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 信道校正</span></span><br><span class="line">    data_aftereq=data3(data_station(<span class="number">1</span>:<span class="keyword">end</span>),:)./H;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>data_aftereq=data3(data_station(1:end),:)./H;</code>：这行代码执行信道校正操作。
<ul>
<li><code>data3</code>：这是一个矩阵，包含了执行FFT之后的数据。每一列代表一个OFDM符号的频域表示。</li>
<li><code>data_station(1:end)</code>：这是一个数组，指定了数据子载波的位置。<code>data_station(1:end)</code>表示选择<code>data_station</code>数组中的所有元素，即所有数据子载波的位置。</li>
<li><code>data3(data_station(1:end),:)</code>：这个表达式从<code>data3</code>中选取特定行（即数据子载波的位置）的所有列，即提取出所有OFDM符号中对应于数据子载波的部分。</li>
<li><code>H</code>：这是一个矩阵，包含了对所有子载波进行信道估计和插值后得到的信道响应值。每个元素代表一个子载波的信道响应估计值。</li>
<li><code>./</code>：这是MATLAB中的逐元素除法操作符。它将<code>data3(data_station(1:end),:)</code>中的每个元素与对应的<code>H</code>中的元素相除。</li>
<li><code>data_aftereq</code>：这是输出变量，存储了信道校正后的数据。信道校正是通过将接收信号的频域表示除以信道响应的估计值来实现的，目的是抵消信道效应，恢复发送端的原始信号。<br>
通过信道校正（均衡）来抵消信道对信号的影响，从而提高数据恢复的准确性。在OFDM系统中，由于信道的多径效应和频率选择性衰落，接收到的信号会发生失真。通过信道估计和校正，可以有效地对抗这些失真，恢复出接收端的原始数据。</li>
</ul>
</li>
</ul>
<h2 id="并串转换">并串转换</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 并串转换</span></span><br><span class="line">    data_aftereq=<span class="built_in">reshape</span>(data_aftereq,[],<span class="number">1</span>);</span><br><span class="line">    data_aftereq=data_aftereq(<span class="number">1</span>:<span class="built_in">length</span>(spread_data));</span><br><span class="line">    data_aftereq=<span class="built_in">reshape</span>(data_aftereq,N_sc,<span class="built_in">length</span>(data_aftereq)/N_sc);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>data_aftereq=reshape(data_aftereq,[],1);</code>：这行代码使用<code>reshape</code>函数将<code>data_aftereq</code>矩阵重塑为一个列向量。<code>reshape(data_aftereq,[],1)</code>的作用是将<code>data_aftereq</code>中的所有元素按列优先顺序重新排列成一个单列矩阵（列向量），其中<code>[]</code>表示自动计算该维度的大小，以便包含<code>data_aftereq</code>中的所有元素。</li>
<li><code>data_aftereq=data_aftereq(1:length(spread_data));</code>：这行代码将<code>data_aftereq</code>列向量的长度调整为<code>spread_data</code>的长度。这是通过选取<code>data_aftereq</code>的前<code>length(spread_data)</code>个元素来实现的。此步骤确保<code>data_aftereq</code>的长度与<code>spread_data</code>相匹配。</li>
<li><code>data_aftereq=reshape(data_aftereq,N_sc,length(data_aftereq)/N_sc);</code>：最后，这行代码再次使用<code>reshape</code>函数将<code>data_aftereq</code>重塑成一个新的矩阵。这次，矩阵的行数为<code>N_sc</code>（可能代表子载波的数量），列数自动计算以确保包含所有元素，即<code>length(data_aftereq)/N_sc</code>。这一步实现了从串行数据到并行数据的转换。</li>
</ul>
<h2 id="解扩">解扩</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 解扩</span></span><br><span class="line">    demspread_data = despread(data_aftereq,code);       <span class="comment">% 数据解扩</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>demspread_data = despread(data_aftereq,code);</code>：这行代码执行解扩操作。
<ul>
<li><code>despread</code>：这是一个函数，用于执行解扩操作。</li>
<li><code>data_aftereq</code>：这是解扩操作的输入，表示经过信道校正（均衡）后的数据。在OFDM系统中，信道校正是为了抵消信道对信号的影响，提高数据恢复的准确性。</li>
<li><code>code</code>：这是执行解扩操作所需的伪随机码，与发送端使用的扩频码相同。在扩频通信中，使用伪随机码将数据信号的带宽扩展，以提高信号的抗干扰能力和隐蔽性。</li>
<li><code>demspread_data</code>：这是解扩操作的输出，即解扩后的数据。解扩后的数据应接近于发送端原始的数据信号。<br>
通过解扩操作恢复出接收端的原始数据。</li>
</ul>
</li>
</ul>
<h2 id="pam4解调">PAM4解调</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% PAM4解调</span></span><br><span class="line">    demodulation_data=pamdemod(demspread_data,M);    </span><br><span class="line">    De_data1 = <span class="built_in">reshape</span>(demodulation_data,[],<span class="number">1</span>);</span><br><span class="line">    De_data2 = de2bi(De_data1, <span class="built_in">log2</span>(M));</span><br><span class="line">    De_Bit = <span class="built_in">reshape</span>(De_data2&#x27;,<span class="number">1</span>,[]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>demodulation_data=pamdemod(demspread_data,M);</code>：这行代码执行PAM4解调操作。
<ul>
<li><code>pamdemod</code>：这是MATLAB中的一个函数，用于执行PAM（脉冲幅度调制）解调。它将接收到的PAM信号转换回原始的数字信号。</li>
<li><code>demspread_data</code>：这是解调操作的输入，表示经过解扩后的数据。</li>
<li><code>M</code>：这是PAM调制的阶数，<code>M</code>等于4。</li>
<li><code>demodulation_data</code>：这是解调操作的输出，即解调后的数字信号。</li>
</ul>
</li>
<li><code>De_data1 = reshape(demodulation_data,[],1);</code>：这行代码使用<code>reshape</code>函数将<code>demodulation_data</code>重塑为一个列向量。这是为了将解调后的数据转换为一维数组，方便后续处理。</li>
<li><code>De_data2 = de2bi(De_data1, log2(M));</code>：这行代码将解调后的数字信号转换为二进制形式。
<ul>
<li><code>de2bi</code>：这是MATLAB中的一个函数，用于将十进制数转换为二进制数。</li>
<li><code>log2(M)</code>：这是转换为二进制时每个数字需要的位数。对于PAM4，<code>log2(M)</code>等于2，因为PAM4使用4个幅度级别来表示2位的二进制数。</li>
</ul>
</li>
<li><code>De_Bit = reshape(De_data2',1,[]);</code>：这行代码将二进制数据<code>De_data2</code>转换为一维数组形式。
<ul>
<li><code>De_data2'</code>：这是<code>De_data2</code>的转置操作，将矩阵的行和列互换。</li>
<li><code>reshape(...,1,[])</code>：这是将转置后的二进制数据重塑为一个单行向量，即将所有二进制位串联起来形成一个长的一维数组。</li>
</ul>
</li>
</ul>
<h2 id="信道译码">信道译码</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% （解交织）</span></span><br><span class="line"><span class="comment">%% 信道译码（维特比译码）</span></span><br><span class="line">    trellis = poly2trellis(<span class="number">7</span>,[<span class="number">133</span> <span class="number">171</span>]);</span><br><span class="line">    rx_c_de = vitdec(De_Bit,trellis,tblen,<span class="string">&#x27;trunc&#x27;</span>,<span class="string">&#x27;hard&#x27;</span>);   <span class="comment">%硬判决</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>trellis = poly2trellis(7,[133 171]);</code>：这行代码定义了一个Trellis结构，用于维特比译码。
<ul>
<li><code>poly2trellis</code>：这是MATLAB中的一个函数，用于根据给定的约束长度和生成多项式创建Trellis结构。这个Trellis结构是维特比译码算法的输入之一。</li>
<li><code>7</code>：这是编码器的约束长度。</li>
<li><code>[133 171]</code>：这是编码器的生成多项式，用八进制表示。这些多项式定义了编码过程中的反馈和前馈连接。</li>
</ul>
</li>
<li><code>rx_c_de = vitdec(De_Bit,trellis,tblen,'trunc','hard');</code>：这行代码执行维特比译码。
<ul>
<li><code>vitdec</code>：这是MATLAB中的一个函数，用于执行维特比译码。维特比译码是一种最大似然译码算法，广泛用于解码卷积编码。</li>
<li><code>De_Bit</code>：这是维特比译码的输入，表示待译码的二进制数据。</li>
<li><code>trellis</code>：这是前面定义的Trellis结构，表示卷积编码的结构。</li>
<li><code>tblen</code>：这是维特比算法的追踪回溯长度，用于确定算法在做决策时考虑的历史信息的深度。</li>
<li><code>'trunc'</code>：这指定了译码时使用的终止方式，<code>'trunc'</code>表示截断终止，即假设编码序列在开始和结束时都处于零状态。</li>
<li><code>'hard'</code>：这指定了译码的判决方式，<code>'hard'</code>表示硬判决，即直接根据接收到的比特值（0或1）进行译码，与之相对的是软判决。</li>
</ul>
</li>
<li><code>rx_c_de</code>：这是维特比译码的输出，即译码后的数据。</li>
</ul>
<h2 id="计算误码率">计算误码率</h2>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% 计算误码率</span></span><br><span class="line">    [err,Ber2(jj)] = biterr(De_Bit(<span class="number">1</span>:<span class="built_in">length</span>(code_data)),code_data);<span class="comment">%译码前的误码率</span></span><br><span class="line">    [err, Ber(jj)] = biterr(rx_c_de(<span class="number">1</span>:<span class="built_in">length</span>(P_data)),P_data);<span class="comment">%译码后的误码率</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>[err,Ber2(jj)] = biterr(De_Bit(1:length(code_data)),code_data);</code>：这行代码计算译码前的误码率。
<ul>
<li><code>biterr</code>：这是MATLAB中的一个函数，用于计算两个二进制向量之间的误码数和误码率。它返回两个值，第一个是误码数（<code>err</code>），第二个是误码率（在这里存储在<code>Ber2(jj)</code>中）。</li>
<li><code>De_Bit(1:length(code_data))</code>：这是译码前的二进制数据，通过索引选择与原始数据<code>code_data</code>长度相同的部分，以便进行比较。</li>
<li><code>code_data</code>：这是原始的二进制数据，用作比较的基准。</li>
<li><code>Ber2(jj)</code>：这是存储计算出的误码率的变量，<code>jj</code>是循环索引，表示这个误码率是迭代下的结果。</li>
</ul>
</li>
<li><code>[err, Ber(jj)] = biterr(rx_c_de(1:length(P_data)),P_data);</code>：这行代码计算译码后的误码率。
<ul>
<li><code>rx_c_de(1:length(P_data))</code>：这是译码后的二进制数据，通过索引选择与原始数据<code>P_data</code>长度相同的部分，以便进行比较。</li>
<li><code>P_data</code>：这是译码操作之前的原始数据，用作比较的基准。</li>
<li><code>Ber(jj)</code>：这是存储计算出的译码后误码率的变量，同样，<code>jj</code>是循环索引。</li>
</ul>
</li>
</ul>
<hr>
<h1 id="实验结果">实验结果</h1>
<p><img src="clip_image001.gif" alt=""></p>
<p><img src="clip_image002.gif" alt=""></p>
<h1 id="使用的技术">使用的技术</h1>
<p><strong>保护间隔</strong><br>
多径信道会对OFDM符号造成ISI影响，破坏了子载波间的正交性。故需要采取一些方法来消除多径信道带来的符号间干扰（ISI）影响，即插入保护间隔。插入循环前缀实现OFDM的循环扩展。<br>
<strong>信道编码</strong><br>
由于移动通信存在干扰和衰落，在信号传输过程中将出现差错，故对数字信号必须采用纠、检错技术，即纠、检错编码技术，以增强数据在信道中传输时抵御各种干扰的能力，提高系统的可靠性。<br>
信道编码采用卷积编码，Viterbi维特比译码。<br>
卷积编码是现代数字通信系统中常见的一种前向纠错码，区别于常规的线性分组码，卷积编码的码字输出不仅与当前时刻的信息符号输入有关，还与之前输入的信息符号有关。<br>
<strong>扩频</strong><br>
根据香农定理，带宽和信噪比可用互换，扩频扩展了带宽，则对信噪比的要求可降低。<br>
<strong>导频</strong><br>
导频不携带信息,导频是双方已知的数据,是用来做信道估计的。<br>
在接收机中，虽然利用接收到的段训练序列、长训练序列可以进行信道均衡、频率偏差校正，但符号还会存在一定的剩余偏差，且偏差会随着时间的累积而累积，会造成所有子载波产生一定的相位偏移。因此，还需要不断地对参考相位进行跟踪。要能实现这个功能，需要在52个非0子载波中插入导频符号。</p>
<p>代码主要参考<a href="https://zhuanlan.zhihu.com/p/57967971">OFDM完整仿真过程及解释（MATLAB） - 知乎 (zhihu.com)</a></p>
]]></content>
      <categories>
        <category>通信原理</category>
      </categories>
      <tags>
        <tag>OFDM</tag>
      </tags>
  </entry>
  <entry>
    <title>latex公式</title>
    <url>/2024/06/21/latex%E5%85%AC%E5%BC%8F/</url>
    <content><![CDATA[<h1 id="基础：">基础：</h1>
<p>行内公式：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>x</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">y=x+2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span><br>
行间公式：$$y=x+2$$<br>
求和：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo></mrow><annotation encoding="application/x-tex">\sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00001em;vertical-align:-0.25001em;"></span><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span></span></span></span><br>
根号：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mroot><mn>2</mn><mn>3</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt[3]{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.13278em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7868839999999999em;"><span style="top:-2.964664em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span></span></span></span><br>
公式加粗(markdown无效)：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">y</mi></mrow><annotation encoding="application/x-tex">\bm{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.63888em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03704em;">y</span></span></span></span></span></span><br>
更改颜色：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="green"><mi>y</mi></mstyle></mrow><annotation encoding="application/x-tex">\color{green}y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;color:green;">y</span></span></span></span><br>
公式添加序号(markdown无效)：<span class='katex-error' title='ParseError: KaTeX parse error: \tag works only in display equations'>y=x+2\tag{1.1}</span></p>
<h1 id="希腊字母：">希腊字母：</h1>
<table>
<thead>
<tr>
<th>latex表达形式</th>
<th>对应的希腊字母</th>
<th>latex表达形式</th>
<th>对应的希腊字母</th>
</tr>
</thead>
<tbody>
<tr>
<td>\alpha</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span></td>
<td>\Alpha</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">A</mi></mrow><annotation encoding="application/x-tex">\Alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">A</span></span></span></span></span></td>
</tr>
<tr>
<td>\beta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span></td>
<td>\Beta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">B</mi></mrow><annotation encoding="application/x-tex">\Beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">B</span></span></span></span></span></td>
</tr>
<tr>
<td>\gamma</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span></span></span></span></td>
<td>\Gamma</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Γ</mi></mrow><annotation encoding="application/x-tex">\Gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Γ</span></span></span></span></td>
</tr>
<tr>
<td>\delta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span></span></span></span></td>
<td>\Delat</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span></td>
</tr>
<tr>
<td>\epsilon</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">ϵ</span></span></span></span></td>
<td>\Epsilon</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">E</mi></mrow><annotation encoding="application/x-tex">\Epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">E</span></span></span></span></span></td>
</tr>
<tr>
<td>\zeta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ζ</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.07378em;">ζ</span></span></span></span></td>
<td>\Zeta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Z</mi></mrow><annotation encoding="application/x-tex">\Zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">Z</span></span></span></span></span></td>
</tr>
<tr>
<td>\eta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>η</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">η</span></span></span></span></td>
<td>\Eta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">H</mi></mrow><annotation encoding="application/x-tex">\Eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">H</span></span></span></span></span></td>
</tr>
<tr>
<td>\theta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></td>
<td>\Theta</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Θ</mi></mrow><annotation encoding="application/x-tex">\Theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Θ</span></span></span></span></td>
</tr>
<tr>
<td>\iota</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ι</mi></mrow><annotation encoding="application/x-tex">\iota</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">ι</span></span></span></span></td>
<td>\Iota</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">I</mi></mrow><annotation encoding="application/x-tex">\Iota</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">I</span></span></span></span></span></td>
</tr>
<tr>
<td>\kappa</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>κ</mi></mrow><annotation encoding="application/x-tex">\kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">κ</span></span></span></span></td>
<td>\Kappa</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">K</mi></mrow><annotation encoding="application/x-tex">\Kappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">K</span></span></span></span></span></td>
</tr>
<tr>
<td>\lambda</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span></td>
<td>\Lambda</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Λ</span></span></span></span></td>
</tr>
<tr>
<td>\mu</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span></td>
<td>\Mu</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">M</mi></mrow><annotation encoding="application/x-tex">\Mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">M</span></span></span></span></span></td>
</tr>
<tr>
<td>\nu</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ν</mi></mrow><annotation encoding="application/x-tex">\nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.06366em;">ν</span></span></span></span></td>
<td>\Nu</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">N</mi></mrow><annotation encoding="application/x-tex">\Nu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">N</span></span></span></span></span></td>
</tr>
<tr>
<td>\xi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ξ</mi></mrow><annotation encoding="application/x-tex">\xi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.04601em;">ξ</span></span></span></span></td>
<td>\Xi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ξ</mi></mrow><annotation encoding="application/x-tex">\Xi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ξ</span></span></span></span></td>
</tr>
<tr>
<td>\omicron</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ο</mi></mrow><annotation encoding="application/x-tex">\omicron</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">ο</span></span></span></span></td>
<td>\Omicron</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi></mrow><annotation encoding="application/x-tex">\Omicron</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">O</span></span></span></span></span></td>
</tr>
<tr>
<td>\pi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span></td>
<td>\Pi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Π</mi></mrow><annotation encoding="application/x-tex">\Pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Π</span></span></span></span></td>
</tr>
<tr>
<td>\rho</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">ρ</span></span></span></span></td>
<td>\Rho</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">P</mi></mrow><annotation encoding="application/x-tex">\Rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">P</span></span></span></span></span></td>
</tr>
<tr>
<td>\sigma</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span></td>
<td>\Sigma</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Σ</span></span></span></span></td>
</tr>
<tr>
<td>\tau</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span></span></span></span></td>
<td>\Tau</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi></mrow><annotation encoding="application/x-tex">\Tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">T</span></span></span></span></span></td>
</tr>
<tr>
<td>\upsilon</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>υ</mi></mrow><annotation encoding="application/x-tex">\upsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">υ</span></span></span></span></td>
<td>\Upsilon</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Υ</mi></mrow><annotation encoding="application/x-tex">\Upsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Υ</span></span></span></span></td>
</tr>
<tr>
<td>\varphi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi></mrow><annotation encoding="application/x-tex">\varphi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">φ</span></span></span></span></td>
<td>\Phi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Φ</span></span></span></span></td>
</tr>
<tr>
<td>\chi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>χ</mi></mrow><annotation encoding="application/x-tex">\chi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">χ</span></span></span></span></td>
<td>\Chi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">X</mi></mrow><annotation encoding="application/x-tex">\Chi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathrm">X</span></span></span></span></span></td>
</tr>
<tr>
<td>\psi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ψ</span></span></span></span></td>
<td>\Psi</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ψ</mi></mrow><annotation encoding="application/x-tex">\Psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ψ</span></span></span></span></td>
</tr>
<tr>
<td>\omega</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ω</mi></mrow><annotation encoding="application/x-tex">\omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span></span></span></span></td>
<td>\Omega</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi></mrow><annotation encoding="application/x-tex">\Omega</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span></span></span></span></td>
</tr>
</tbody>
</table>
<h1 id="运算符和空格">运算符和空格</h1>
<table>
<thead>
<tr>
<th>Latex表达式</th>
<th>字体效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>单空格：a \quad b</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mspace width="1em"/><mi>b</mi></mrow><annotation encoding="application/x-tex">a \quad b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathdefault">b</span></span></span></span></td>
</tr>
<tr>
<td>双空格：a \qquad b</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mspace width="2em"/><mi>b</mi></mrow><annotation encoding="application/x-tex">a \qquad b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:2em;"></span><span class="mord mathdefault">b</span></span></span></span></td>
</tr>
<tr>
<td>乘号：a \times b</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>×</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \times b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span></td>
</tr>
<tr>
<td>#</td>
<td>#</td>
</tr>
<tr>
<td>$</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">$</mi></mrow><annotation encoding="application/x-tex">\$</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">$</span></span></span></span></td>
</tr>
<tr>
<td>\%</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">%</span></span></span></span></td>
</tr>
<tr>
<td>&amp;</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">&amp;</mi></mrow><annotation encoding="application/x-tex">\&amp;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">&amp;</span></span></span></span></td>
</tr>
<tr>
<td>\_</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">_</mi></mrow><annotation encoding="application/x-tex">\_</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:-0.31em;"></span><span class="mord" style="margin-right:0.02778em;">_</span></span></span></span></td>
</tr>
<tr>
<td>-</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo></mrow><annotation encoding="application/x-tex">-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">−</span></span></span></span></td>
</tr>
</tbody>
</table>
<h1 id="上标-下标">上标，下标</h1>
<p>对于下标使用 下划线表示“ _ ” ；对于上标使用 “ ^ ”表示。比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">x_i^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>的LaTex表达式为 x_i^2 。<br>
LaTex表达式中的上下标可以叠加的，就比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><msup><mi>y</mi><mi>z</mi></msup></msup></mrow><annotation encoding="application/x-tex">x^{y^z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.87998em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.87998em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>的LaTex表达式为 {x^y}^z或者 x^{y^z}<br>
在此需要注意的是：LaTex表达式默认的是 “ _ ” “ ^ ” 之后的一位才是上下标的内容，对于超过一个字母的上下标需要使用 { } 将它括起来，比如<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mrow><mn>2</mn><mi>i</mi></mrow><mrow><mn>2</mn><mo>+</mo><mi>b</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">x_{2i}^{2+b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.166103em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8892389999999999em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span></span></span></span>的LaTex表达式为x_{2i}^{2+b}。</p>
<table>
<thead>
<tr>
<th>latex表达式</th>
<th>实现</th>
<th>latex表达式</th>
<th>实现</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">x_i^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.072772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span></td>
<td>x_i^2</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>x</mi><mrow><mn>2</mn><mi>i</mi></mrow><mrow><mn>2</mn><mo>+</mo><mi>b</mi></mrow></msubsup></mrow><annotation encoding="application/x-tex">x_{2i}^{2+b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.166103em;vertical-align:-0.276864em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8892389999999999em;"><span style="top:-2.4231360000000004em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight">i</span></span></span></span><span style="top:-3.1031310000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.276864em;"><span></span></span></span></span></span></span></span></span></span></td>
<td>x_{2i}^{2+b}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span></span></span></span></span></span></span></td>
<td>\hat{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>ˊ</mo></mover></mrow><annotation encoding="application/x-tex">\acute{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˊ</span></span></span></span></span></span></span></span></span></span></td>
<td>\acute{a}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>ˋ</mo></mover></mrow><annotation encoding="application/x-tex">\grave{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˋ</span></span></span></span></span></span></span></span></span></span></td>
<td>\grave{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>˘</mo></mover></mrow><annotation encoding="application/x-tex">\breve{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">˘</span></span></span></span></span></span></span></span></span></span></td>
<td>\breve{a}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.56778em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.56778em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span></td>
<td>\bar{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo stretchy="true">~</mo></mover></mrow><annotation encoding="application/x-tex">\widetilde{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6905600000000001em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6905600000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span class="svg-align" style="top:-3.43056em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.26em;"><svg width='100%' height='0.26em' viewBox='0 0 600 260' preserveAspectRatio='none'><path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z'/></svg></span></span></span></span></span></span></span></span></span></td>
<td>\widetilde{a}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>ˇ</mo></mover></mrow><annotation encoding="application/x-tex">\check{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.62847em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.62847em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˇ</span></span></span></span></span></span></span></span></span></span></td>
<td>\check{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6678599999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6678599999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3.35em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span></span></span></span></span></span></span></td>
<td>\tilde{a}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>˙</mo></mover></mrow><annotation encoding="application/x-tex">\dot{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.13889em;"><span class="mord">˙</span></span></span></span></span></span></span></span></span></span></td>
<td>\dot{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\ddot{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66786em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">¨</span></span></span></span></span></span></span></span></span></span></td>
<td>\ddot{a}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span></td>
<td>\vec{a}</td>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>a</mi><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.67056em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.67056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span class="svg-align" style="top:-3.43056em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span></span></span></span></span></span></span></td>
<td>\widehat{a}</td>
</tr>
</tbody>
</table>
<h1 id="log">log</h1>
<p>log的表达式会稍微简单点，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span> 就是它的LaTex表达式，同样的对于需要下标的同样使用下划线表示 “ _ ” ， 对于多个字符组成的需要添加 { } 将其包括。</p>
<table>
<thead>
<tr>
<th>latex表达式</th>
<th>实现</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo><mi>log</mi><mo>⁡</mo></mo><mn>21</mn></msub><mrow><mi>x</mi><mi>y</mi></mrow></mrow><annotation encoding="application/x-tex">\log_{21} {xy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.93858em;vertical-align:-0.24414em;"></span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.20696799999999996em;"><span style="top:-2.4558600000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24414em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span></span></td>
<td>\log_{21} {xy}</td>
</tr>
</tbody>
</table>
<h1 id="括号">括号</h1>
<p>LaTex表达式中的 ( ) 、 [ ] 均可以正常使用，但是对于 { } 需要使用转义字符使用，即使用 “{” 和 “}” 表示 { }</p>
<table>
<thead>
<tr>
<th>latex表达式</th>
<th>实现</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mo>…</mo><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\left(…\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="minner">…</span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></td>
<td>\left(…\right)</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\vert</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span></span></span></span></td>
<td>\vert</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∥</mi></mrow><annotation encoding="application/x-tex">\Vert</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∥</span></span></span></span></td>
<td>\Vert</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo></mrow><annotation encoding="application/x-tex">\langle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span></span></span></span></td>
<td>\langle</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">⟩</span></span></span></span></td>
<td>\rangle</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo></mrow><annotation encoding="application/x-tex">\lceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌈</span></span></span></span></td>
<td>\lceil</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">⌉</span></span></span></span></td>
<td>\rceil</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌊</mo></mrow><annotation encoding="application/x-tex">\lfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⌊</span></span></span></span></td>
<td>\lfloor</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌋</mo></mrow><annotation encoding="application/x-tex">\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">⌋</span></span></span></span></td>
<td>\rfloor</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mo fence="true">(</mo><mo fence="true">(</mo><mo fence="true">(</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo fence="true">)</mo><mo fence="true">)</mo><mo fence="true">)</mo><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\Biggl(\biggl(\Bigl(\bigl((x)\bigr)\Bigr)\biggr)\Biggr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="mopen"><span class="delimsizing size4">(</span></span><span class="mopen"><span class="delimsizing size3">(</span></span><span class="mopen"><span class="delimsizing size2">(</span></span><span class="mopen"><span class="delimsizing size1">(</span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing size1">)</span></span><span class="mclose"><span class="delimsizing size2">)</span></span><span class="mclose"><span class="delimsizing size3">)</span></span><span class="mclose"><span class="delimsizing size4">)</span></span></span></span></span></td>
<td>\Biggl(\biggl(\Bigl(\bigl((x)\bigr)\Bigr)\biggr)\Biggr)</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\vert x \vert</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault">x</span><span class="mord">∣</span></span></span></span></td>
<td>\vert x \vert</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>=</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>=</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>z</mi><mo>=</mo><mfrac><mi>x</mi><mi>y</mi></mfrac></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(x)=\begin{cases} x = \cos(t) \\y = \sin(t) \\ z = \frac xy \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:4.369108em;vertical-align:-1.9345539999999999em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35002em;"><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.19499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.2950099999999996em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.8500199999999998em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.434554em;"><span style="top:-4.434554em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span><span style="top:-2.994554em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span><span style="top:-1.554554em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9345539999999999em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></td>
<td>f(x)=\begin{cases} x = \cos(t) \y = \sin(t) \ z = \frac xy \end{cases}</td>
</tr>
<tr>
<td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x=0</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x!=0</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(x)=\begin{cases} 0&amp; \text{x=0}\\1&amp; \text{x!=0} \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x=0</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x!=0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></td>
<td>f(x)=\begin{cases} 0&amp; \text{x=0}\1&amp; \text{x!=0} \end{cases}</td>
</tr>
<tr>
<td>对于个别符号，如 ()、[]等，如果想要变大，可以在 这些符号前面添加即可</td>
<td></td>
</tr>
</tbody>
</table>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">\Biggl   \biggl   \Bigl   \bigl   左符号</span><br><span class="line">\Biggr   \biggr   \Bigr   \bigr   右符号</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Latex</category>
      </categories>
      <tags>
        <tag>latex公式</tag>
      </tags>
  </entry>
</search>
